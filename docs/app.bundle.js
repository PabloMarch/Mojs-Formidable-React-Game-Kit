webpackJsonp([0],[,,,,,function(e,t){var n={};e.exports=n,function(){n._nextId=0,n._seed=0,n.extend=function(e,t){var o,r,i;"boolean"==typeof t?(o=2,i=t):(o=1,i=!0),r=Array.prototype.slice.call(arguments,o);for(var a=0;a<r.length;a++){var s=r[a];if(s)for(var l in s)i&&s[l]&&s[l].constructor===Object?e[l]&&e[l].constructor!==Object?e[l]=s[l]:(e[l]=e[l]||{},n.extend(e[l],i,s[l])):e[l]=s[l]}return e},n.clone=function(e,t){return n.extend({},t,e)},n.keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},n.values=function(e){var t=[];if(Object.keys){for(var n=Object.keys(e),o=0;o<n.length;o++)t.push(e[n[o]]);return t}for(var r in e)t.push(e[r]);return t},n.shadeColor=function(e,t){var n=parseInt(e.slice(1),16),o=Math.round(2.55*t),r=(n>>16)+o,i=(n>>8&255)+o,a=(255&n)+o;return"#"+(16777216+65536*(r<255?r<1?0:r:255)+256*(i<255?i<1?0:i:255)+(a<255?a<1?0:a:255)).toString(16).slice(1)},n.shuffle=function(e){for(var t=e.length-1;t>0;t--){var o=Math.floor(n.random()*(t+1)),r=e[t];e[t]=e[o],e[o]=r}return e},n.choose=function(e){return e[Math.floor(n.random()*e.length)]},n.isElement=function(e){try{return e instanceof HTMLElement}catch(t){return"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument}},n.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},n.clamp=function(e,t,n){return e<t?t:e>n?n:e},n.sign=function(e){return e<0?-1:1},n.now=function(){var e=window.performance||{};return e.now=function(){return e.now||e.webkitNow||e.msNow||e.oNow||e.mozNow||function(){return+new Date}}(),e.now()},n.random=function(t,n){return t=void 0!==t?t:0,n=void 0!==n?n:1,t+e()*(n-t)},n.colorToNumber=function(e){return e=e.replace("#",""),3==e.length&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),parseInt(e,16)},n.log=function(e,t){if(console&&console.log&&console.warn)switch(t){case"warn":console.warn("Matter.js:",e);break;case"error":console.log("Matter.js:",e)}},n.nextId=function(){return n._nextId++},n.indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1};var e=function(){return n._seed=(9301*n._seed+49297)%233280,n._seed/233280}}()},,,,,,function(e,t){var n={};e.exports=n,function(){n.create=function(e){var t={min:{x:0,y:0},max:{x:0,y:0}};return e&&n.update(t,e),t},n.update=function(e,t,n){e.min.x=1/0,e.max.x=-(1/0),e.min.y=1/0,e.max.y=-(1/0);for(var o=0;o<t.length;o++){var r=t[o];r.x>e.max.x&&(e.max.x=r.x),r.x<e.min.x&&(e.min.x=r.x),r.y>e.max.y&&(e.max.y=r.y),r.y<e.min.y&&(e.min.y=r.y)}n&&(n.x>0?e.max.x+=n.x:e.min.x+=n.x,n.y>0?e.max.y+=n.y:e.min.y+=n.y)},n.contains=function(e,t){return t.x>=e.min.x&&t.x<=e.max.x&&t.y>=e.min.y&&t.y<=e.max.y},n.overlaps=function(e,t){return e.min.x<=t.max.x&&e.max.x>=t.min.x&&e.max.y>=t.min.y&&e.min.y<=t.max.y},n.translate=function(e,t){e.min.x+=t.x,e.max.x+=t.x,e.min.y+=t.y,e.max.y+=t.y},n.shift=function(e,t){var n=e.max.x-e.min.x,o=e.max.y-e.min.y;e.min.x=t.x,e.max.x=t.x+n,e.min.y=t.y,e.max.y=t.y+o}}()},function(e,t){var n={};e.exports=n,function(){n.create=function(e,t){return{x:e||0,y:t||0}},n.clone=function(e){return{x:e.x,y:e.y}},n.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},n.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},n.rotate=function(e,t){var n=Math.cos(t),o=Math.sin(t);return{x:e.x*n-e.y*o,y:e.x*o+e.y*n}},n.rotateAbout=function(e,t,n,o){var r=Math.cos(t),i=Math.sin(t);o||(o={});var a=n.x+((e.x-n.x)*r-(e.y-n.y)*i);return o.y=n.y+((e.x-n.x)*i+(e.y-n.y)*r),o.x=a,o},n.normalise=function(e){var t=n.magnitude(e);return 0===t?{x:0,y:0}:{x:e.x/t,y:e.y/t}},n.dot=function(e,t){return e.x*t.x+e.y*t.y},n.cross=function(e,t){return e.x*t.y-e.y*t.x},n.cross3=function(e,t,n){return(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x)},n.add=function(e,t,n){return n||(n={}),n.x=e.x+t.x,n.y=e.y+t.y,n},n.sub=function(e,t,n){return n||(n={}),n.x=e.x-t.x,n.y=e.y-t.y,n},n.mult=function(e,t){return{x:e.x*t,y:e.y*t}},n.div=function(e,t){return{x:e.x/t,y:e.y/t}},n.perp=function(e,t){return t=t===!0?-1:1,{x:t*-e.y,y:t*e.x}},n.neg=function(e){return{x:-e.x,y:-e.y}},n.angle=function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)},n._temp=[n.create(),n.create(),n.create(),n.create(),n.create(),n.create()]}()},,,function(e,t,n){var o={};e.exports=o;var r=n(18),i=n(5),a=n(30);!function(){o.create=function(e){return i.extend({id:i.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite"},e)},o.setModified=function(e,t,n,r){if(e.isModified=t,n&&e.parent&&o.setModified(e.parent,t,n,r),r)for(var i=0;i<e.composites.length;i++){var a=e.composites[i];o.setModified(a,t,n,r)}},o.add=function(e,t){var n=[].concat(t);r.trigger(e,"beforeAdd",{object:t});for(var a=0;a<n.length;a++){var s=n[a];switch(s.type){case"body":if(s.parent!==s){i.log("Composite.add: skipped adding a compound body part (you must add its parent instead)","warn");break}o.addBody(e,s);break;case"constraint":o.addConstraint(e,s);break;case"composite":o.addComposite(e,s);break;case"mouseConstraint":o.addConstraint(e,s.constraint)}}return r.trigger(e,"afterAdd",{object:t}),e},o.remove=function(e,t,n){var i=[].concat(t);r.trigger(e,"beforeRemove",{object:t});for(var a=0;a<i.length;a++){var s=i[a];switch(s.type){case"body":o.removeBody(e,s,n);break;case"constraint":o.removeConstraint(e,s,n);break;case"composite":o.removeComposite(e,s,n);break;case"mouseConstraint":o.removeConstraint(e,s.constraint)}}return r.trigger(e,"afterRemove",{object:t}),e},o.addComposite=function(e,t){return e.composites.push(t),t.parent=e,o.setModified(e,!0,!0,!1),e},o.removeComposite=function(e,t,n){var r=i.indexOf(e.composites,t);if(r!==-1&&(o.removeCompositeAt(e,r),o.setModified(e,!0,!0,!1)),n)for(var a=0;a<e.composites.length;a++)o.removeComposite(e.composites[a],t,!0);return e},o.removeCompositeAt=function(e,t){return e.composites.splice(t,1),o.setModified(e,!0,!0,!1),e},o.addBody=function(e,t){return e.bodies.push(t),o.setModified(e,!0,!0,!1),e},o.removeBody=function(e,t,n){var r=i.indexOf(e.bodies,t);if(r!==-1&&(o.removeBodyAt(e,r),o.setModified(e,!0,!0,!1)),n)for(var a=0;a<e.composites.length;a++)o.removeBody(e.composites[a],t,!0);return e},o.removeBodyAt=function(e,t){return e.bodies.splice(t,1),o.setModified(e,!0,!0,!1),e},o.addConstraint=function(e,t){return e.constraints.push(t),o.setModified(e,!0,!0,!1),e},o.removeConstraint=function(e,t,n){var r=i.indexOf(e.constraints,t);if(r!==-1&&o.removeConstraintAt(e,r),n)for(var a=0;a<e.composites.length;a++)o.removeConstraint(e.composites[a],t,!0);return e},o.removeConstraintAt=function(e,t){return e.constraints.splice(t,1),o.setModified(e,!0,!0,!1),e},o.clear=function(e,t,n){if(n)for(var r=0;r<e.composites.length;r++)o.clear(e.composites[r],t,!0);return t?e.bodies=e.bodies.filter(function(e){return e.isStatic}):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,o.setModified(e,!0,!0,!1),e},o.allBodies=function(e){for(var t=[].concat(e.bodies),n=0;n<e.composites.length;n++)t=t.concat(o.allBodies(e.composites[n]));return t},o.allConstraints=function(e){for(var t=[].concat(e.constraints),n=0;n<e.composites.length;n++)t=t.concat(o.allConstraints(e.composites[n]));return t},o.allComposites=function(e){for(var t=[].concat(e.composites),n=0;n<e.composites.length;n++)t=t.concat(o.allComposites(e.composites[n]));return t},o.get=function(e,t,n){var r,i;switch(n){case"body":r=o.allBodies(e);break;case"constraint":r=o.allConstraints(e);break;case"composite":r=o.allComposites(e).concat(e)}return r?(i=r.filter(function(e){return e.id.toString()===t.toString()}),0===i.length?null:i[0]):null},o.move=function(e,t,n){return o.remove(e,t),o.add(n,t),e},o.rebase=function(e){for(var t=o.allBodies(e).concat(o.allConstraints(e)).concat(o.allComposites(e)),n=0;n<t.length;n++)t[n].id=i.nextId();return o.setModified(e,!0,!0,!1),e},o.translate=function(e,t,n){for(var r=n?o.allBodies(e):e.bodies,i=0;i<r.length;i++)a.translate(r[i],t);return o.setModified(e,!0,!0,!1),e},o.rotate=function(e,t,n,r){for(var i=Math.cos(t),s=Math.sin(t),l=r?o.allBodies(e):e.bodies,c=0;c<l.length;c++){var u=l[c],p=u.position.x-n.x,f=u.position.y-n.y;a.setPosition(u,{x:n.x+(p*i-f*s),y:n.y+(p*s+f*i)}),a.rotate(u,t)}return o.setModified(e,!0,!0,!1),e},o.scale=function(e,t,n,r,i){for(var s=i?o.allBodies(e):e.bodies,l=0;l<s.length;l++){var c=s[l],u=c.position.x-r.x,p=c.position.y-r.y;a.setPosition(c,{x:r.x+u*t,y:r.y+p*n}),a.scale(c,t,n)}return o.setModified(e,!0,!0,!1),e}}()},function(e,t,n){var o={};e.exports=o;var r=n(12),i=n(5);!function(){o.create=function(e,t){for(var n=[],o=0;o<e.length;o++){var r=e[o],i={x:r.x,y:r.y,index:o,body:t,isInternal:!1};n.push(i)}return n},o.fromPath=function(e,t){var n=/L?\s*([\-\d\.e]+)[\s,]*([\-\d\.e]+)*/gi,r=[];return e.replace(n,function(e,t,n){r.push({x:parseFloat(t),y:parseFloat(n)})}),o.create(r,t)},o.centre=function(e){for(var t,n,i,a=o.area(e,!0),s={x:0,y:0},l=0;l<e.length;l++)i=(l+1)%e.length,t=r.cross(e[l],e[i]),n=r.mult(r.add(e[l],e[i]),t),s=r.add(s,n);return r.div(s,6*a)},o.mean=function(e){for(var t={x:0,y:0},n=0;n<e.length;n++)t.x+=e[n].x,t.y+=e[n].y;return r.div(t,e.length)},o.area=function(e,t){for(var n=0,o=e.length-1,r=0;r<e.length;r++)n+=(e[o].x-e[r].x)*(e[o].y+e[r].y),o=r;return t?n/2:Math.abs(n)/2},o.inertia=function(e,t){for(var n,o,i=0,a=0,s=e,l=0;l<s.length;l++)o=(l+1)%s.length,n=Math.abs(r.cross(s[o],s[l])),i+=n*(r.dot(s[o],s[o])+r.dot(s[o],s[l])+r.dot(s[l],s[l])),a+=n;return t/6*(i/a)},o.translate=function(e,t,n){var o;if(n)for(o=0;o<e.length;o++)e[o].x+=t.x*n,e[o].y+=t.y*n;else for(o=0;o<e.length;o++)e[o].x+=t.x,e[o].y+=t.y;return e},o.rotate=function(e,t,n){if(0!==t){for(var o=Math.cos(t),r=Math.sin(t),i=0;i<e.length;i++){var a=e[i],s=a.x-n.x,l=a.y-n.y;a.x=n.x+(s*o-l*r),a.y=n.y+(s*r+l*o)}return e}},o.contains=function(e,t){for(var n=0;n<e.length;n++){var o=e[n],r=e[(n+1)%e.length];if((t.x-o.x)*(r.y-o.y)+(t.y-o.y)*(o.x-r.x)>0)return!1}return!0},o.scale=function(e,t,n,i){if(1===t&&1===n)return e;i=i||o.centre(e);for(var a,s,l=0;l<e.length;l++)a=e[l],s=r.sub(a,i),e[l].x=i.x+s.x*t,e[l].y=i.y+s.y*n;return e},o.chamfer=function(e,t,n,o,a){t=t||[8],t.length||(t=[t]),n=void 0!==n?n:-1,o=o||2,a=a||14;for(var s=[],l=0;l<e.length;l++){var c=e[l-1>=0?l-1:e.length-1],u=e[l],p=e[(l+1)%e.length],f=t[l<t.length?l:t.length-1];if(0!==f){var d=r.normalise({x:u.y-c.y,y:c.x-u.x}),y=r.normalise({x:p.y-u.y,y:u.x-p.x}),v=Math.sqrt(2*Math.pow(f,2)),h=r.mult(i.clone(d),f),m=r.normalise(r.mult(r.add(d,y),.5)),g=r.sub(u,r.mult(m,v)),b=n;n===-1&&(b=1.75*Math.pow(f,.32)),b=i.clamp(b,o,a),b%2==1&&(b+=1);for(var x=Math.acos(r.dot(d,y)),w=x/b,_=0;_<b;_++)s.push(r.add(r.rotate(h,w*_),g))}else s.push(u)}return s},o.clockwiseSort=function(e){var t=o.mean(e);return e.sort(function(e,n){return r.angle(t,e)-r.angle(t,n)}),e},o.isConvex=function(e){var t,n,o,r,i=0,a=e.length;if(a<3)return null;for(t=0;t<a;t++)if(n=(t+1)%a,o=(t+2)%a,r=(e[n].x-e[t].x)*(e[o].y-e[n].y),r-=(e[n].y-e[t].y)*(e[o].x-e[n].x),r<0?i|=1:r>0&&(i|=2),3===i)return!1;return 0!==i||null},o.hull=function(e){var t,n,o=[],i=[];for(e=e.slice(0),e.sort(function(e,t){var n=e.x-t.x;return 0!==n?n:e.y-t.y}),n=0;n<e.length;n++){for(t=e[n];i.length>=2&&r.cross3(i[i.length-2],i[i.length-1],t)<=0;)i.pop();i.push(t)}for(n=e.length-1;n>=0;n--){for(t=e[n];o.length>=2&&r.cross3(o[o.length-2],o[o.length-1],t)<=0;)o.pop();o.push(t)}return o.pop(),i.pop(),o.concat(i)}}()},,function(e,t,n){var o={};e.exports=o;var r=n(5);!function(){o.on=function(e,t,n){for(var o,r=t.split(" "),i=0;i<r.length;i++)o=r[i],e.events=e.events||{},e.events[o]=e.events[o]||[],e.events[o].push(n);return n},o.off=function(e,t,n){if(!t)return void(e.events={});"function"==typeof t&&(n=t,t=r.keys(e.events).join(" "));for(var o=t.split(" "),i=0;i<o.length;i++){var a=e.events[o[i]],s=[];if(n&&a)for(var l=0;l<a.length;l++)a[l]!==n&&s.push(a[l]);e.events[o[i]]=s}},o.trigger=function(e,t,n){var o,i,a,s;if(e.events){n||(n={}),o=t.split(" ");for(var l=0;l<o.length;l++)if(i=o[l],a=e.events[i]){s=r.clone(n,!1),s.name=i,s.source=e;for(var c=0;c<a.length;c++)a[c].apply(e,[s])}}}}()},,,,,,,,,,,,function(e,t,n){var o={};e.exports=o;var r=n(16),i=n(12),a=n(32),s=(n(67),n(5)),l=n(11),c=n(66);!function(){o._inertiaScale=4,o._nextCollidingGroupId=1,o._nextNonCollidingGroupId=-1,o._nextCategory=1,o.create=function(t){var n={id:s.nextId(),type:"body",label:"Body",parts:[],angle:0,vertices:r.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0},lineWidth:1.5}},o=s.extend(n,t);return e(o,t),o},o.nextGroup=function(e){return e?o._nextNonCollidingGroupId--:o._nextCollidingGroupId++},o.nextCategory=function(){return o._nextCategory=o._nextCategory<<1,o._nextCategory};var e=function(e,t){o.set(e,{bounds:e.bounds||l.create(e.vertices),positionPrev:e.positionPrev||i.clone(e.position),anglePrev:e.anglePrev||e.angle,vertices:e.vertices,parts:e.parts||[e],isStatic:e.isStatic,isSleeping:e.isSleeping,parent:e.parent||e}),r.rotate(e.vertices,e.angle,e.position),c.rotate(e.axes,e.angle),l.update(e.bounds,e.vertices,e.velocity),o.set(e,{axes:t.axes||e.axes,area:t.area||e.area,mass:t.mass||e.mass,inertia:t.inertia||e.inertia});var n=e.isStatic?"#eeeeee":s.choose(["#556270","#4ECDC4","#C7F464","#FF6B6B","#C44D58"]),a=s.shadeColor(n,-20);e.render.fillStyle=e.render.fillStyle||n,e.render.strokeStyle=e.render.strokeStyle||a,e.render.sprite.xOffset+=-(e.bounds.min.x-e.position.x)/(e.bounds.max.x-e.bounds.min.x),e.render.sprite.yOffset+=-(e.bounds.min.y-e.position.y)/(e.bounds.max.y-e.bounds.min.y)};o.set=function(e,t,n){var r;"string"==typeof t&&(r=t,t={},t[r]=n);for(r in t)if(n=t[r],t.hasOwnProperty(r))switch(r){case"isStatic":o.setStatic(e,n);break;case"isSleeping":a.set(e,n);break;case"mass":o.setMass(e,n);break;case"density":o.setDensity(e,n);break;case"inertia":o.setInertia(e,n);break;case"vertices":o.setVertices(e,n);break;case"position":o.setPosition(e,n);break;case"angle":o.setAngle(e,n);break;case"velocity":o.setVelocity(e,n);break;case"angularVelocity":o.setAngularVelocity(e,n);break;case"parts":o.setParts(e,n);break;default:e[r]=n}},o.setStatic=function(e,t){for(var n=0;n<e.parts.length;n++){var o=e.parts[n];o.isStatic=t,t&&(o.restitution=0,o.friction=1,o.mass=o.inertia=o.density=1/0,o.inverseMass=o.inverseInertia=0,o.positionPrev.x=o.position.x,o.positionPrev.y=o.position.y,o.anglePrev=o.angle,o.angularVelocity=0,o.speed=0,o.angularSpeed=0,o.motion=0)}},o.setMass=function(e,t){e.mass=t,e.inverseMass=1/e.mass,e.density=e.mass/e.area},o.setDensity=function(e,t){o.setMass(e,t*e.area),e.density=t},o.setInertia=function(e,t){e.inertia=t,e.inverseInertia=1/e.inertia},o.setVertices=function(e,t){t[0].body===e?e.vertices=t:e.vertices=r.create(t,e),e.axes=c.fromVertices(e.vertices),e.area=r.area(e.vertices),o.setMass(e,e.density*e.area);var n=r.centre(e.vertices);r.translate(e.vertices,n,-1),o.setInertia(e,o._inertiaScale*r.inertia(e.vertices,e.mass)),r.translate(e.vertices,e.position),l.update(e.bounds,e.vertices,e.velocity)},o.setParts=function(e,n,i){var a;for(n=n.slice(0),e.parts.length=0,e.parts.push(e),e.parent=e,a=0;a<n.length;a++){var s=n[a];s!==e&&(s.parent=e,e.parts.push(s))}if(1!==e.parts.length){if(i=void 0===i||i){var l=[];for(a=0;a<n.length;a++)l=l.concat(n[a].vertices);r.clockwiseSort(l);var c=r.hull(l),u=r.centre(c);o.setVertices(e,c),r.translate(e.vertices,u)}var p=t(e);e.area=p.area,e.parent=e,e.position.x=p.centre.x,e.position.y=p.centre.y,e.positionPrev.x=p.centre.x,e.positionPrev.y=p.centre.y,o.setMass(e,p.mass),o.setInertia(e,p.inertia),o.setPosition(e,p.centre)}},o.setPosition=function(e,t){var n=i.sub(t,e.position);e.positionPrev.x+=n.x,e.positionPrev.y+=n.y;for(var o=0;o<e.parts.length;o++){var a=e.parts[o];a.position.x+=n.x,a.position.y+=n.y,r.translate(a.vertices,n),l.update(a.bounds,a.vertices,e.velocity)}},o.setAngle=function(e,t){var n=t-e.angle;e.anglePrev+=n;for(var o=0;o<e.parts.length;o++){var a=e.parts[o];a.angle+=n,r.rotate(a.vertices,n,e.position),c.rotate(a.axes,n),l.update(a.bounds,a.vertices,e.velocity),o>0&&i.rotateAbout(a.position,n,e.position,a.position)}},o.setVelocity=function(e,t){e.positionPrev.x=e.position.x-t.x,e.positionPrev.y=e.position.y-t.y,e.velocity.x=t.x,e.velocity.y=t.y,e.speed=i.magnitude(e.velocity)},o.setAngularVelocity=function(e,t){e.anglePrev=e.angle-t,e.angularVelocity=t,e.angularSpeed=Math.abs(e.angularVelocity)},o.translate=function(e,t){o.setPosition(e,i.add(e.position,t))},o.rotate=function(e,t){o.setAngle(e,e.angle+t)},o.scale=function(e,n,i,a){for(var s=0;s<e.parts.length;s++){var u=e.parts[s];r.scale(u.vertices,n,i,e.position),u.axes=c.fromVertices(u.vertices),e.isStatic||(u.area=r.area(u.vertices),o.setMass(u,e.density*u.area),r.translate(u.vertices,{x:-u.position.x,y:-u.position.y}),o.setInertia(u,r.inertia(u.vertices,u.mass)),r.translate(u.vertices,{x:u.position.x,y:u.position.y})),l.update(u.bounds,u.vertices,e.velocity)}if(e.circleRadius&&(n===i?e.circleRadius*=n:e.circleRadius=null),!e.isStatic){var p=t(e);e.area=p.area,o.setMass(e,p.mass),o.setInertia(e,p.inertia)}},o.update=function(e,t,n,o){var a=Math.pow(t*n*e.timeScale,2),s=1-e.frictionAir*n*e.timeScale,u=e.position.x-e.positionPrev.x,p=e.position.y-e.positionPrev.y;e.velocity.x=u*s*o+e.force.x/e.mass*a,e.velocity.y=p*s*o+e.force.y/e.mass*a,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.position.x+=e.velocity.x,e.position.y+=e.velocity.y,e.angularVelocity=(e.angle-e.anglePrev)*s*o+e.torque/e.inertia*a,e.anglePrev=e.angle,e.angle+=e.angularVelocity,e.speed=i.magnitude(e.velocity),e.angularSpeed=Math.abs(e.angularVelocity);for(var f=0;f<e.parts.length;f++){var d=e.parts[f];r.translate(d.vertices,e.velocity),f>0&&(d.position.x+=e.velocity.x,d.position.y+=e.velocity.y),0!==e.angularVelocity&&(r.rotate(d.vertices,e.angularVelocity,e.position),c.rotate(d.axes,e.angularVelocity),f>0&&i.rotateAbout(d.position,e.angularVelocity,e.position,d.position)),l.update(d.bounds,d.vertices,e.velocity)}},o.applyForce=function(e,t,n){e.force.x+=n.x,e.force.y+=n.y;var o={x:t.x-e.position.x,y:t.y-e.position.y};e.torque+=o.x*n.y-o.y*n.x};var t=function(e){for(var t={mass:0,area:0,inertia:0,centre:{x:0,y:0}},n=1===e.parts.length?0:1;n<e.parts.length;n++){var o=e.parts[n];t.mass+=o.mass,t.area+=o.area,t.inertia+=o.inertia,t.centre=i.add(t.centre,i.mult(o.position,o.mass!==1/0?o.mass:1))}return t.centre=i.div(t.centre,t.mass!==1/0?t.mass:e.parts.length),t}}()},function(e,t,n){var o={};e.exports=o;var r=n(16),i=n(12),a=n(32),s=n(11),l=n(66),c=n(5);!function(){var e=1e-6;o.create=function(t){var n=t;n.bodyA&&!n.pointA&&(n.pointA={x:0,y:0}),n.bodyB&&!n.pointB&&(n.pointB={x:0,y:0});var o=n.bodyA?i.add(n.bodyA.position,n.pointA):n.pointA,r=n.bodyB?i.add(n.bodyB.position,n.pointB):n.pointB,a=i.magnitude(i.sub(o,r));n.length=n.length||a||e;var s={visible:!0,lineWidth:2,strokeStyle:"#666"};return n.render=c.extend(s,n.render),n.id=n.id||c.nextId(),n.label=n.label||"Constraint",n.type="constraint",n.stiffness=n.stiffness||1,n.angularStiffness=n.angularStiffness||0,n.angleA=n.bodyA?n.bodyA.angle:n.angleA,n.angleB=n.bodyB?n.bodyB.angle:n.angleB,n},o.solveAll=function(e,t){for(var n=0;n<e.length;n++)o.solve(e[n],t)},o.solve=function(t,n){var o=t.bodyA,r=t.bodyB,a=t.pointA,s=t.pointB;o&&!o.isStatic&&(t.pointA=i.rotate(a,o.angle-t.angleA),t.angleA=o.angle),r&&!r.isStatic&&(t.pointB=i.rotate(s,r.angle-t.angleB),t.angleB=r.angle);var l=a,c=s;if(o&&(l=i.add(o.position,a)),r&&(c=i.add(r.position,s)),l&&c){var u=i.sub(l,c),p=i.magnitude(u);0===p&&(p=e);var f=(p-t.length)/p,d=i.div(u,p),y=i.mult(u,.5*f*t.stiffness*n*n);if(!(Math.abs(1-p/t.length)<.001*n)){var v,h,m,g,b,x,w,_;o&&!o.isStatic?(m={x:l.x-o.position.x+y.x,y:l.y-o.position.y+y.y},o.velocity.x=o.position.x-o.positionPrev.x,o.velocity.y=o.position.y-o.positionPrev.y,o.angularVelocity=o.angle-o.anglePrev,v=i.add(o.velocity,i.mult(i.perp(m),o.angularVelocity)),b=i.dot(m,d),w=o.inverseMass+o.inverseInertia*b*b):(v={x:0,y:0},w=o?o.inverseMass:0),r&&!r.isStatic?(g={x:c.x-r.position.x-y.x,y:c.y-r.position.y-y.y},r.velocity.x=r.position.x-r.positionPrev.x,r.velocity.y=r.position.y-r.positionPrev.y,r.angularVelocity=r.angle-r.anglePrev,h=i.add(r.velocity,i.mult(i.perp(g),r.angularVelocity)),x=i.dot(g,d),_=r.inverseMass+r.inverseInertia*x*x):(h={x:0,y:0},_=r?r.inverseMass:0);var S=i.sub(h,v),P=i.dot(d,S)/(w+_);P>0&&(P=0);var T,k={x:d.x*P,y:d.y*P};o&&!o.isStatic&&(T=i.cross(m,k)*o.inverseInertia*(1-t.angularStiffness),o.constraintImpulse.x-=y.x,o.constraintImpulse.y-=y.y,o.constraintImpulse.angle+=T,o.position.x-=y.x,o.position.y-=y.y,o.angle+=T),r&&!r.isStatic&&(T=i.cross(g,k)*r.inverseInertia*(1-t.angularStiffness),r.constraintImpulse.x+=y.x,r.constraintImpulse.y+=y.y,r.constraintImpulse.angle-=T,r.position.x+=y.x,r.position.y+=y.y,r.angle-=T)}}},o.postSolveAll=function(e){for(var t=0;t<e.length;t++){var n=e[t],o=n.constraintImpulse;if(0!==o.x||0!==o.y||0!==o.angle){a.set(n,!1);for(var c=0;c<n.parts.length;c++){var u=n.parts[c];r.translate(u.vertices,o),c>0&&(u.position.x+=o.x,u.position.y+=o.y),0!==o.angle&&(r.rotate(u.vertices,o.angle,n.position),l.rotate(u.axes,o.angle),c>0&&i.rotateAbout(u.position,o.angle,n.position,u.position)),s.update(u.bounds,u.vertices,n.velocity)}o.angle=0,o.x=0,o.y=0}}}}()},function(e,t,n){var o={};e.exports=o;var r=n(18);!function(){o._motionWakeThreshold=.18,o._motionSleepThreshold=.08,o._minBias=.9,o.update=function(e,t){for(var n=t*t*t,r=0;r<e.length;r++){var i=e[r],a=i.speed*i.speed+i.angularSpeed*i.angularSpeed;if(0===i.force.x&&0===i.force.y){var s=Math.min(i.motion,a),l=Math.max(i.motion,a);i.motion=o._minBias*s+(1-o._minBias)*l,i.sleepThreshold>0&&i.motion<o._motionSleepThreshold*n?(i.sleepCounter+=1,i.sleepCounter>=i.sleepThreshold&&o.set(i,!0)):i.sleepCounter>0&&(i.sleepCounter-=1)}else o.set(i,!1)}},o.afterCollisions=function(e,t){for(var n=t*t*t,r=0;r<e.length;r++){var i=e[r];if(i.isActive){var a=i.collision,s=a.bodyA.parent,l=a.bodyB.parent;if(!(s.isSleeping&&l.isSleeping||s.isStatic||l.isStatic)&&(s.isSleeping||l.isSleeping)){var c=s.isSleeping&&!s.isStatic?s:l,u=c===s?l:s;!c.isStatic&&u.motion>o._motionWakeThreshold*n&&o.set(c,!1)}}}},o.set=function(e,t){var n=e.isSleeping;t?(e.isSleeping=!0,e.sleepCounter=e.sleepThreshold,e.positionImpulse.x=0,e.positionImpulse.y=0,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.anglePrev=e.angle,e.speed=0,e.angularSpeed=0,e.motion=0,n||r.trigger(e,"sleepStart")):(e.isSleeping=!1,e.sleepCounter=0,n&&r.trigger(e,"sleepEnd"))}}()},,,,,,,,function(e,t,n){var o={};e.exports=o;var r=n(100);!function(){o.create=function(e,t){var n=e.bodyA,r=e.bodyB,i=e.parentA,a=e.parentB,s={id:o.id(n,r),bodyA:n,bodyB:r,contacts:{},activeContacts:[],separation:0,isActive:!0,isSensor:n.isSensor||r.isSensor,timeCreated:t,timeUpdated:t,inverseMass:i.inverseMass+a.inverseMass,friction:Math.min(i.friction,a.friction),frictionStatic:Math.max(i.frictionStatic,a.frictionStatic),restitution:Math.max(i.restitution,a.restitution),slop:Math.max(i.slop,a.slop)};return o.update(s,e,t),s},o.update=function(e,t,n){var i=e.contacts,a=t.supports,s=e.activeContacts,l=t.parentA,c=t.parentB;if(e.collision=t,e.inverseMass=l.inverseMass+c.inverseMass,e.friction=Math.min(l.friction,c.friction),e.frictionStatic=Math.max(l.frictionStatic,c.frictionStatic),e.restitution=Math.max(l.restitution,c.restitution),e.slop=Math.max(l.slop,c.slop),s.length=0,t.collided){for(var u=0;u<a.length;u++){var p=a[u],f=r.id(p),d=i[f];d?s.push(d):s.push(i[f]=r.create(p))}e.separation=t.depth,o.setActive(e,!0,n)}else e.isActive===!0&&o.setActive(e,!1,n)},o.setActive=function(e,t,n){t?(e.isActive=!0,e.timeUpdated=n):(e.isActive=!1,e.activeContacts.length=0)},o.id=function(e,t){return e.id<t.id?e.id+"_"+t.id:t.id+"_"+e.id}}()},,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.World=t.TileMap=t.Stage=t.Sprite=t.KeyListener=t.Loop=t.Body=t.AudioPlayer=void 0;var r=n(226),i=o(r),a=n(220),s=o(a),l=n(221),c=o(l),u=n(228),p=o(u),f=n(222),d=o(f),y=n(223),v=o(y),h=n(224),m=o(h),g=n(225),b=o(g);t.AudioPlayer=i.default,t.Body=s.default,t.Loop=c.default,t.KeyListener=p.default,t.Sprite=d.default,t.Stage=v.default,t.TileMap=m.default,t.World=b.default},function(e,t,n){var o={};e.exports=o;var r=n(64),i=n(40),a=n(11);!function(){o.collisions=function(e,t){for(var n=[],s=t.pairs.table,l=t.metrics,c=0;c<e.length;c++){var u=e[c][0],p=e[c][1];if((!u.isStatic&&!u.isSleeping||!p.isStatic&&!p.isSleeping)&&o.canCollide(u.collisionFilter,p.collisionFilter)&&(l.midphaseTests+=1,a.overlaps(u.bounds,p.bounds)))for(var f=u.parts.length>1?1:0;f<u.parts.length;f++)for(var d=u.parts[f],y=p.parts.length>1?1:0;y<p.parts.length;y++){var v=p.parts[y];if(d===u&&v===p||a.overlaps(d.bounds,v.bounds)){var h,m=i.id(d,v),g=s[m];h=g&&g.isActive?g.collision:null;var b=r.collides(d,v,h);l.narrowphaseTests+=1,b.reused&&(l.narrowReuseCount+=1),b.collided&&(n.push(b),l.narrowDetections+=1)}}}return n},o.canCollide=function(e,t){return e.group===t.group&&0!==e.group?e.group>0:0!=(e.mask&t.category)&&0!=(t.mask&e.category)}}()},function(e,t,n){var o={};e.exports=o;var r=n(40),i=n(62),a=n(5);!function(){o.create=function(e){var t={controller:o,detector:i.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return a.extend(t,e)},o.update=function(n,o,r,i){var a,f,d,y,v,h=r.world,m=n.buckets,g=!1,b=r.metrics;for(b.broadphaseTests=0,a=0;a<o.length;a++){var x=o[a];if((!x.isSleeping||i)&&!(x.bounds.max.x<h.bounds.min.x||x.bounds.min.x>h.bounds.max.x||x.bounds.max.y<h.bounds.min.y||x.bounds.min.y>h.bounds.max.y)){var w=t(n,x);if(!x.region||w.id!==x.region.id||i){b.broadphaseTests+=1,x.region&&!i||(x.region=w);var _=e(w,x.region);for(f=_.startCol;f<=_.endCol;f++)for(d=_.startRow;d<=_.endRow;d++){v=s(f,d),y=m[v];var S=f>=w.startCol&&f<=w.endCol&&d>=w.startRow&&d<=w.endRow,P=f>=x.region.startCol&&f<=x.region.endCol&&d>=x.region.startRow&&d<=x.region.endRow;!S&&P&&P&&y&&u(n,y,x),(x.region===w||S&&!P||i)&&(y||(y=l(m,v)),c(n,y,x))}x.region=w,g=!0}}}g&&(n.pairsList=p(n))},o.clear=function(e){e.buckets={},e.pairs={},e.pairsList=[]};var e=function(e,t){return n(Math.min(e.startCol,t.startCol),Math.max(e.endCol,t.endCol),Math.min(e.startRow,t.startRow),Math.max(e.endRow,t.endRow))},t=function(e,t){var o=t.bounds;return n(Math.floor(o.min.x/e.bucketWidth),Math.floor(o.max.x/e.bucketWidth),Math.floor(o.min.y/e.bucketHeight),Math.floor(o.max.y/e.bucketHeight))},n=function(e,t,n,o){return{id:e+","+t+","+n+","+o,startCol:e,endCol:t,startRow:n,endRow:o}},s=function(e,t){return e+","+t},l=function(e,t){return e[t]=[]},c=function(e,t,n){for(var o=0;o<t.length;o++){var i=t[o];if(!(n.id===i.id||n.isStatic&&i.isStatic)){var a=r.id(n,i),s=e.pairs[a];s?s[2]+=1:e.pairs[a]=[n,i,1]}}t.push(n)},u=function(e,t,n){t.splice(a.indexOf(t,n),1);for(var o=0;o<t.length;o++){var i=t[o],s=r.id(n,i),l=e.pairs[s];l&&(l[2]-=1)}},p=function(e){var t,n,o=[];t=a.keys(e.pairs);for(var r=0;r<t.length;r++)n=e.pairs[t[r]],n[2]>0?o.push(n):delete e.pairs[t[r]];return o}}()},function(e,t,n){var o={};e.exports=o;var r=n(16),i=n(12);!function(){o.collides=function(t,o,a){var s,l,c,u,p=a,f=!1;if(p){var d=t.parent,y=o.parent,v=d.speed*d.speed+d.angularSpeed*d.angularSpeed+y.speed*y.speed+y.angularSpeed*y.angularSpeed;f=p&&p.collided&&v<.2,u=p}else u={collided:!1,bodyA:t,bodyB:o};if(p&&f){var h=u.axisBody,m=h===t?o:t,g=[h.axes[p.axisNumber]];if(c=e(h.vertices,m.vertices,g),u.reused=!0,c.overlap<=0)return u.collided=!1,u}else{if(s=e(t.vertices,o.vertices,t.axes),s.overlap<=0)return u.collided=!1,u;if(l=e(o.vertices,t.vertices,o.axes),l.overlap<=0)return u.collided=!1,u;s.overlap<l.overlap?(c=s,u.axisBody=t):(c=l,u.axisBody=o),u.axisNumber=c.axisNumber}u.bodyA=t.id<o.id?t:o,u.bodyB=t.id<o.id?o:t,u.collided=!0,u.normal=c.axis,u.depth=c.overlap,u.parentA=u.bodyA.parent,u.parentB=u.bodyB.parent,t=u.bodyA,o=u.bodyB,i.dot(u.normal,i.sub(o.position,t.position))>0&&(u.normal=i.neg(u.normal)),u.tangent=i.perp(u.normal),u.penetration={x:u.normal.x*u.depth,y:u.normal.y*u.depth};var b=n(t,o,u.normal),x=u.supports||[];if(x.length=0,r.contains(t.vertices,b[0])&&x.push(b[0]),r.contains(t.vertices,b[1])&&x.push(b[1]),x.length<2){var w=n(o,t,i.neg(u.normal));r.contains(o.vertices,w[0])&&x.push(w[0]),x.length<2&&r.contains(o.vertices,w[1])&&x.push(w[1])}return x.length<1&&(x=[b[0]]),u.supports=x,u};var e=function(e,n,o){for(var r,a,s=i._temp[0],l=i._temp[1],c={overlap:Number.MAX_VALUE},u=0;u<o.length;u++){if(a=o[u],t(s,e,a),t(l,n,a),(r=Math.min(s.max-l.min,l.max-s.min))<=0)return c.overlap=r,c;r<c.overlap&&(c.overlap=r,c.axis=a,c.axisNumber=u)}return c},t=function(e,t,n){for(var o=i.dot(t[0],n),r=o,a=1;a<t.length;a+=1){var s=i.dot(t[a],n);s>r?r=s:s<o&&(o=s)}e.min=o,e.max=r},n=function(e,t,n){for(var o,r,a,s,l=Number.MAX_VALUE,c=i._temp[0],u=t.vertices,p=e.position,f=0;f<u.length;f++)r=u[f],c.x=r.x-p.x,c.y=r.y-p.y,(o=-i.dot(n,c))<l&&(l=o,a=r);return r=u[a.index-1>=0?a.index-1:u.length-1],c.x=r.x-p.x,c.y=r.y-p.y,l=-i.dot(n,c),s=r,r=u[(a.index+1)%u.length],c.x=r.x-p.x,c.y=r.y-p.y,o=-i.dot(n,c),o<l&&(s=r),[a,s]}}()},function(e,t,n){var o={};e.exports=o;var r=n(16),i=n(5),a=n(30),s=n(11),l=n(12);!function(){o.rectangle=function(e,t,n,o,s){s=s||{};var l={label:"Rectangle Body",position:{x:e,y:t},vertices:r.fromPath("L 0 0 L "+n+" 0 L "+n+" "+o+" L 0 "+o)};if(s.chamfer){var c=s.chamfer;l.vertices=r.chamfer(l.vertices,c.radius,c.quality,c.qualityMin,c.qualityMax),delete s.chamfer}return a.create(i.extend({},l,s))},o.trapezoid=function(e,t,n,o,s,l){l=l||{},s*=.5;var c,u=(1-2*s)*n,p=n*s,f=p+u,d=f+p;c=s<.5?"L 0 0 L "+p+" "+-o+" L "+f+" "+-o+" L "+d+" 0":"L 0 0 L "+f+" "+-o+" L "+d+" 0";var y={label:"Trapezoid Body",position:{x:e,y:t},vertices:r.fromPath(c)};if(l.chamfer){var v=l.chamfer;y.vertices=r.chamfer(y.vertices,v.radius,v.quality,v.qualityMin,v.qualityMax),delete l.chamfer}return a.create(i.extend({},y,l))},o.circle=function(e,t,n,r,a){r=r||{};var s={label:"Circle Body",circleRadius:n};a=a||25;var l=Math.ceil(Math.max(10,Math.min(a,n)));return l%2==1&&(l+=1),o.polygon(e,t,l,n,i.extend({},s,r))},o.polygon=function(e,t,n,s,l){if(l=l||{},n<3)return o.circle(e,t,s,l);for(var c=2*Math.PI/n,u="",p=.5*c,f=0;f<n;f+=1){var d=p+f*c,y=Math.cos(d)*s,v=Math.sin(d)*s;u+="L "+y.toFixed(3)+" "+v.toFixed(3)+" "}var h={label:"Polygon Body",position:{x:e,y:t},vertices:r.fromPath(u)};if(l.chamfer){var m=l.chamfer;h.vertices=r.chamfer(h.vertices,m.radius,m.quality,m.qualityMin,m.qualityMax),delete l.chamfer}return a.create(i.extend({},h,l))},o.fromVertices=function(e,t,n,o,c,u,p){var f,d,y,v,h,m,g,b,x;for(o=o||{},d=[],c=void 0!==c&&c,u=void 0!==u?u:.01,p=void 0!==p?p:10,window.decomp||i.log("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull.","warn"),i.isArray(n[0])||(n=[n]),b=0;b<n.length;b+=1)if(v=n[b],(y=r.isConvex(v))||!window.decomp)v=y?r.clockwiseSort(v):r.hull(v),d.push({position:{x:e,y:t},vertices:v});else{var w=new decomp.Polygon;for(h=0;h<v.length;h++)w.vertices.push([v[h].x,v[h].y]);w.makeCCW(),u!==!1&&w.removeCollinearPoints(u);var _=w.quickDecomp();for(h=0;h<_.length;h++){var S=_[h],P=[];for(m=0;m<S.vertices.length;m++)P.push({x:S.vertices[m][0],y:S.vertices[m][1]});p>0&&r.area(P)<p||d.push({position:r.centre(P),vertices:P})}}for(h=0;h<d.length;h++)d[h]=a.create(i.extend(d[h],o));if(c){var T=5;for(h=0;h<d.length;h++){var k=d[h];for(m=h+1;m<d.length;m++){var A=d[m];if(s.overlaps(k.bounds,A.bounds)){var C=k.vertices,O=A.vertices;for(g=0;g<k.vertices.length;g++)for(x=0;x<A.vertices.length;x++){var E=l.magnitudeSquared(l.sub(C[(g+1)%C.length],O[x])),M=l.magnitudeSquared(l.sub(C[g],O[(x+1)%O.length]));E<T&&M<T&&(C[g].isInternal=!0,O[x].isInternal=!0)}}}}}return d.length>1?(f=a.create(i.extend({parts:d.slice(0)},o)),a.setPosition(f,{x:e,y:t}),f):d[0]}}()},function(e,t,n){var o={};e.exports=o;var r=n(12),i=n(5);!function(){o.fromVertices=function(e){for(var t={},n=0;n<e.length;n++){var o=(n+1)%e.length,a=r.normalise({x:e[o].y-e[n].y,y:e[n].x-e[o].x}),s=0===a.y?1/0:a.x/a.y;s=s.toFixed(3).toString(),t[s]=a}return i.values(t)},o.rotate=function(e,t){if(0!==t)for(var n=Math.cos(t),o=Math.sin(t),r=0;r<e.length;r++){var i,a=e[r];i=a.x*n-a.y*o,a.y=a.x*o+a.y*n,a.x=i}}}()},function(e,t,n){var o={};e.exports=o;var r=n(5),i=n(15),a=n(11),s=n(18),l=n(63),c=n(12);!function(){var e,t;"undefined"!=typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(function(){e(r.now())},1e3/60)},t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),o.create=function(e){var t={controller:o,engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,options:{width:800,height:600,pixelRatio:1,background:"#fafafa",wireframeBackground:"#222",hasBounds:!!e.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},i=r.extend(t,e);return i.canvas&&(i.canvas.width=i.options.width||i.canvas.width,i.canvas.height=i.options.height||i.canvas.height),i.mouse=e.mouse,i.engine=e.engine,i.canvas=i.canvas||n(i.options.width,i.options.height),i.context=i.canvas.getContext("2d"),i.textures={},i.bounds=i.bounds||{min:{x:0,y:0},max:{x:i.canvas.width,y:i.canvas.height}},1!==i.options.pixelRatio&&o.setPixelRatio(i,i.options.pixelRatio),r.isElement(i.element)?i.element.appendChild(i.canvas):r.log("Render.create: options.element was undefined, render.canvas was created but not appended","warn"),i},o.run=function(t){!function n(r){t.frameRequestId=e(n),o.world(t)}()},o.stop=function(e){t(e.frameRequestId)},o.setPixelRatio=function(e,t){var n=e.options,o=e.canvas;"auto"===t&&(t=u(o)),n.pixelRatio=t,o.setAttribute("data-pixel-ratio",t),o.width=n.width*t,o.height=n.height*t,o.style.width=n.width+"px",o.style.height=n.height+"px",e.context.scale(t,t)},o.world=function(e){var t,n=e.engine,r=n.world,u=e.canvas,p=e.context,d=e.options,y=i.allBodies(r),v=i.allConstraints(r),h=d.wireframes?d.wireframeBackground:d.background,m=[],g=[],b={timestamp:n.timing.timestamp};if(s.trigger(e,"beforeRender",b),e.currentBackground!==h&&f(e,h),p.globalCompositeOperation="source-in",p.fillStyle="transparent",p.fillRect(0,0,u.width,u.height),p.globalCompositeOperation="source-over",d.hasBounds){var x=e.bounds.max.x-e.bounds.min.x,w=e.bounds.max.y-e.bounds.min.y,_=x/d.width,S=w/d.height;for(t=0;t<y.length;t++){var P=y[t];a.overlaps(P.bounds,e.bounds)&&m.push(P)}for(t=0;t<v.length;t++){var T=v[t],k=T.bodyA,A=T.bodyB,C=T.pointA,O=T.pointB;k&&(C=c.add(k.position,T.pointA)),A&&(O=c.add(A.position,T.pointB)),C&&O&&(a.contains(e.bounds,C)||a.contains(e.bounds,O))&&g.push(T)}p.scale(1/_,1/S),p.translate(-e.bounds.min.x,-e.bounds.min.y)}else g=v,m=y;!d.wireframes||n.enableSleeping&&d.showSleeping?o.bodies(e,m,p):(d.showConvexHulls&&o.bodyConvexHulls(e,m,p),o.bodyWireframes(e,m,p)),d.showBounds&&o.bodyBounds(e,m,p),(d.showAxes||d.showAngleIndicator)&&o.bodyAxes(e,m,p),d.showPositions&&o.bodyPositions(e,m,p),d.showVelocity&&o.bodyVelocity(e,m,p),d.showIds&&o.bodyIds(e,m,p),d.showSeparations&&o.separations(e,n.pairs.list,p),d.showCollisions&&o.collisions(e,n.pairs.list,p),d.showVertexNumbers&&o.vertexNumbers(e,m,p),d.showMousePosition&&o.mousePosition(e,e.mouse,p),o.constraints(g,p),d.showBroadphase&&n.broadphase.controller===l&&o.grid(e,n.broadphase,p),d.showDebug&&o.debug(e,p),d.hasBounds&&p.setTransform(d.pixelRatio,0,0,d.pixelRatio,0,0),s.trigger(e,"afterRender",b)},o.debug=function(e,t){var n=t,o=e.engine,r=o.world,a=o.metrics,s=e.options,c=i.allBodies(r),u="    ";if(o.timing.timestamp-(e.debugTimestamp||0)>=500){var p="";a.timing&&(p+="fps: "+Math.round(a.timing.fps)+u),a.extended&&(a.timing&&(p+="delta: "+a.timing.delta.toFixed(3)+u,p+="correction: "+a.timing.correction.toFixed(3)+u),p+="bodies: "+c.length+u,o.broadphase.controller===l&&(p+="buckets: "+a.buckets+u),p+="\n",p+="collisions: "+a.collisions+u,p+="pairs: "+o.pairs.list.length+u,p+="broad: "+a.broadEff+u,p+="mid: "+a.midEff+u,p+="narrow: "+a.narrowEff+u),e.debugString=p,e.debugTimestamp=o.timing.timestamp}if(e.debugString){n.font="12px Arial",s.wireframes?n.fillStyle="rgba(255,255,255,0.5)":n.fillStyle="rgba(0,0,0,0.5)";for(var f=e.debugString.split("\n"),d=0;d<f.length;d++)n.fillText(f[d],50,50+18*d)}},o.constraints=function(e,t){for(var n=t,o=0;o<e.length;o++){var r=e[o];if(r.render.visible&&r.pointA&&r.pointB){var i=r.bodyA,a=r.bodyB;i?(n.beginPath(),n.moveTo(i.position.x+r.pointA.x,i.position.y+r.pointA.y)):(n.beginPath(),n.moveTo(r.pointA.x,r.pointA.y)),a?n.lineTo(a.position.x+r.pointB.x,a.position.y+r.pointB.y):n.lineTo(r.pointB.x,r.pointB.y),n.lineWidth=r.render.lineWidth,n.strokeStyle=r.render.strokeStyle,n.stroke()}}},o.bodyShadows=function(e,t,n){for(var o=n,r=(e.engine,0);r<t.length;r++){var i=t[r];if(i.render.visible){if(i.circleRadius)o.beginPath(),o.arc(i.position.x,i.position.y,i.circleRadius,0,2*Math.PI),o.closePath();else{o.beginPath(),o.moveTo(i.vertices[0].x,i.vertices[0].y);for(var a=1;a<i.vertices.length;a++)o.lineTo(i.vertices[a].x,i.vertices[a].y);o.closePath()}var s=i.position.x-.5*e.options.width,l=i.position.y-.2*e.options.height,c=Math.abs(s)+Math.abs(l);o.shadowColor="rgba(0,0,0,0.15)",o.shadowOffsetX=.05*s,o.shadowOffsetY=.05*l,o.shadowBlur=1+12*Math.min(1,c/1e3),o.fill(),o.shadowColor=null,o.shadowOffsetX=null,o.shadowOffsetY=null,o.shadowBlur=null}}},o.bodies=function(e,t,n){var o,r,i,a,s=n,l=(e.engine,e.options),c=l.showInternalEdges||!l.wireframes;for(i=0;i<t.length;i++)if(o=t[i],o.render.visible)for(a=o.parts.length>1?1:0;a<o.parts.length;a++)if(r=o.parts[a],r.render.visible){if(l.showSleeping&&o.isSleeping?s.globalAlpha=.5*r.render.opacity:1!==r.render.opacity&&(s.globalAlpha=r.render.opacity),r.render.sprite&&r.render.sprite.texture&&!l.wireframes){var u=r.render.sprite,f=p(e,u.texture);s.translate(r.position.x,r.position.y),s.rotate(r.angle),s.drawImage(f,f.width*-u.xOffset*u.xScale,f.height*-u.yOffset*u.yScale,f.width*u.xScale,f.height*u.yScale),s.rotate(-r.angle),s.translate(-r.position.x,-r.position.y)}else{if(r.circleRadius)s.beginPath(),s.arc(r.position.x,r.position.y,r.circleRadius,0,2*Math.PI);else{s.beginPath(),s.moveTo(r.vertices[0].x,r.vertices[0].y);for(var d=1;d<r.vertices.length;d++)!r.vertices[d-1].isInternal||c?s.lineTo(r.vertices[d].x,r.vertices[d].y):s.moveTo(r.vertices[d].x,r.vertices[d].y),r.vertices[d].isInternal&&!c&&s.moveTo(r.vertices[(d+1)%r.vertices.length].x,r.vertices[(d+1)%r.vertices.length].y);s.lineTo(r.vertices[0].x,r.vertices[0].y),s.closePath()}l.wireframes?(s.lineWidth=1,s.strokeStyle="#bbb"):(s.fillStyle=r.render.fillStyle,s.lineWidth=r.render.lineWidth,s.strokeStyle=r.render.strokeStyle,s.fill()),s.stroke()}s.globalAlpha=1}},o.bodyWireframes=function(e,t,n){var o,r,i,a,s,l=n,c=e.options.showInternalEdges;for(l.beginPath(),i=0;i<t.length;i++)if(o=t[i],o.render.visible)for(s=o.parts.length>1?1:0;s<o.parts.length;s++){for(r=o.parts[s],l.moveTo(r.vertices[0].x,r.vertices[0].y),a=1;a<r.vertices.length;a++)!r.vertices[a-1].isInternal||c?l.lineTo(r.vertices[a].x,r.vertices[a].y):l.moveTo(r.vertices[a].x,r.vertices[a].y),r.vertices[a].isInternal&&!c&&l.moveTo(r.vertices[(a+1)%r.vertices.length].x,r.vertices[(a+1)%r.vertices.length].y);l.lineTo(r.vertices[0].x,r.vertices[0].y)}l.lineWidth=1,l.strokeStyle="#bbb",l.stroke()},o.bodyConvexHulls=function(e,t,n){var o,r,i,a=n;for(a.beginPath(),r=0;r<t.length;r++)if(o=t[r],o.render.visible&&1!==o.parts.length){for(a.moveTo(o.vertices[0].x,o.vertices[0].y),i=1;i<o.vertices.length;i++)a.lineTo(o.vertices[i].x,o.vertices[i].y);a.lineTo(o.vertices[0].x,o.vertices[0].y)}a.lineWidth=1,a.strokeStyle="rgba(255,255,255,0.2)",a.stroke()},o.vertexNumbers=function(e,t,n){var o,r,i,a=n;for(o=0;o<t.length;o++){var s=t[o].parts;for(i=s.length>1?1:0;i<s.length;i++){var l=s[i];for(r=0;r<l.vertices.length;r++)a.fillStyle="rgba(255,255,255,0.2)",a.fillText(o+"_"+r,l.position.x+.8*(l.vertices[r].x-l.position.x),l.position.y+.8*(l.vertices[r].y-l.position.y))}}},o.mousePosition=function(e,t,n){var o=n;o.fillStyle="rgba(255,255,255,0.8)",o.fillText(t.position.x+"  "+t.position.y,t.position.x+5,t.position.y-5)},o.bodyBounds=function(e,t,n){var o=n,r=(e.engine,e.options);o.beginPath();for(var i=0;i<t.length;i++){if(t[i].render.visible)for(var a=t[i].parts,s=a.length>1?1:0;s<a.length;s++){var l=a[s];o.rect(l.bounds.min.x,l.bounds.min.y,l.bounds.max.x-l.bounds.min.x,l.bounds.max.y-l.bounds.min.y)}}r.wireframes?o.strokeStyle="rgba(255,255,255,0.08)":o.strokeStyle="rgba(0,0,0,0.1)",o.lineWidth=1,o.stroke()},o.bodyAxes=function(e,t,n){var o,r,i,a,s=n,l=(e.engine,e.options);for(s.beginPath(),r=0;r<t.length;r++){var c=t[r],u=c.parts;if(c.render.visible)if(l.showAxes)for(i=u.length>1?1:0;i<u.length;i++)for(o=u[i],a=0;a<o.axes.length;a++){var p=o.axes[a];s.moveTo(o.position.x,o.position.y),s.lineTo(o.position.x+20*p.x,o.position.y+20*p.y)}else for(i=u.length>1?1:0;i<u.length;i++)for(o=u[i],a=0;a<o.axes.length;a++)s.moveTo(o.position.x,o.position.y),s.lineTo((o.vertices[0].x+o.vertices[o.vertices.length-1].x)/2,(o.vertices[0].y+o.vertices[o.vertices.length-1].y)/2)}l.wireframes?s.strokeStyle="indianred":(s.strokeStyle="rgba(0,0,0,0.8)",s.globalCompositeOperation="overlay"),s.lineWidth=1,s.stroke(),s.globalCompositeOperation="source-over"},o.bodyPositions=function(e,t,n){var o,r,i,a,s=n,l=(e.engine,e.options);for(s.beginPath(),i=0;i<t.length;i++)if(o=t[i],o.render.visible)for(a=0;a<o.parts.length;a++)r=o.parts[a],s.arc(r.position.x,r.position.y,3,0,2*Math.PI,!1),s.closePath();for(l.wireframes?s.fillStyle="indianred":s.fillStyle="rgba(0,0,0,0.5)",s.fill(),s.beginPath(),i=0;i<t.length;i++)o=t[i],o.render.visible&&(s.arc(o.positionPrev.x,o.positionPrev.y,2,0,2*Math.PI,!1),s.closePath());s.fillStyle="rgba(255,165,0,0.8)",s.fill()},o.bodyVelocity=function(e,t,n){var o=n;o.beginPath();for(var r=0;r<t.length;r++){var i=t[r];i.render.visible&&(o.moveTo(i.position.x,i.position.y),o.lineTo(i.position.x+2*(i.position.x-i.positionPrev.x),i.position.y+2*(i.position.y-i.positionPrev.y)))}o.lineWidth=3,o.strokeStyle="cornflowerblue",o.stroke()},o.bodyIds=function(e,t,n){var o,r,i=n;for(o=0;o<t.length;o++)if(t[o].render.visible){var a=t[o].parts;for(r=a.length>1?1:0;r<a.length;r++){var s=a[r];i.font="12px Arial",i.fillStyle="rgba(255,255,255,0.5)",i.fillText(s.id,s.position.x+10,s.position.y-10)}}},o.collisions=function(e,t,n){var o,r,i,a,s=n,l=e.options;for(s.beginPath(),i=0;i<t.length;i++)if(o=t[i],o.isActive)for(r=o.collision,a=0;a<o.activeContacts.length;a++){var c=o.activeContacts[a],u=c.vertex;s.rect(u.x-1.5,u.y-1.5,3.5,3.5)}for(l.wireframes?s.fillStyle="rgba(255,255,255,0.7)":s.fillStyle="orange",s.fill(),s.beginPath(),i=0;i<t.length;i++)if(o=t[i],o.isActive&&(r=o.collision,o.activeContacts.length>0)){var p=o.activeContacts[0].vertex.x,f=o.activeContacts[0].vertex.y;2===o.activeContacts.length&&(p=(o.activeContacts[0].vertex.x+o.activeContacts[1].vertex.x)/2,f=(o.activeContacts[0].vertex.y+o.activeContacts[1].vertex.y)/2),r.bodyB===r.supports[0].body||r.bodyA.isStatic===!0?s.moveTo(p-8*r.normal.x,f-8*r.normal.y):s.moveTo(p+8*r.normal.x,f+8*r.normal.y),s.lineTo(p,f)}l.wireframes?s.strokeStyle="rgba(255,165,0,0.7)":s.strokeStyle="orange",s.lineWidth=1,s.stroke()},o.separations=function(e,t,n){var o,r,i,a,s,l=n,c=e.options;for(l.beginPath(),s=0;s<t.length;s++)if(o=t[s],o.isActive){r=o.collision,i=r.bodyA,a=r.bodyB;var u=1;a.isStatic||i.isStatic||(u=.5),a.isStatic&&(u=0),l.moveTo(a.position.x,a.position.y),l.lineTo(a.position.x-r.penetration.x*u,a.position.y-r.penetration.y*u),u=1,a.isStatic||i.isStatic||(u=.5),i.isStatic&&(u=0),l.moveTo(i.position.x,i.position.y),l.lineTo(i.position.x+r.penetration.x*u,i.position.y+r.penetration.y*u)}c.wireframes?l.strokeStyle="rgba(255,165,0,0.5)":l.strokeStyle="orange",l.stroke()},o.grid=function(e,t,n){var o=n;e.options.wireframes?o.strokeStyle="rgba(255,180,0,0.1)":o.strokeStyle="rgba(255,180,0,0.5)",o.beginPath();for(var i=r.keys(t.buckets),a=0;a<i.length;a++){var s=i[a];if(!(t.buckets[s].length<2)){var l=s.split(",");o.rect(.5+parseInt(l[0],10)*t.bucketWidth,.5+parseInt(l[1],10)*t.bucketHeight,t.bucketWidth,t.bucketHeight)}}o.lineWidth=1,o.stroke()},o.inspector=function(e,t){var n,o=(e.engine,e.selected),r=e.render,i=r.options;if(i.hasBounds){var a=r.bounds.max.x-r.bounds.min.x,s=r.bounds.max.y-r.bounds.min.y,l=a/r.options.width,c=s/r.options.height;t.scale(1/l,1/c),t.translate(-r.bounds.min.x,-r.bounds.min.y)}for(var u=0;u<o.length;u++){var p=o[u].data;switch(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.9)",t.setLineDash([1,2]),p.type){case"body":n=p.bounds,t.beginPath(),t.rect(Math.floor(n.min.x-3),Math.floor(n.min.y-3),Math.floor(n.max.x-n.min.x+6),Math.floor(n.max.y-n.min.y+6)),t.closePath(),t.stroke();break;case"constraint":var f=p.pointA;p.bodyA&&(f=p.pointB),t.beginPath(),t.arc(f.x,f.y,10,0,2*Math.PI),t.closePath(),t.stroke()}t.setLineDash([]),t.translate(-.5,-.5)}null!==e.selectStart&&(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.6)",t.fillStyle="rgba(255,165,0,0.1)",n=e.selectBounds,t.beginPath(),t.rect(Math.floor(n.min.x),Math.floor(n.min.y),Math.floor(n.max.x-n.min.x),Math.floor(n.max.y-n.min.y)),t.closePath(),t.stroke(),t.fill(),t.translate(-.5,-.5)),i.hasBounds&&t.setTransform(1,0,0,1,0,0)};var n=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n.oncontextmenu=function(){return!1},n.onselectstart=function(){return!1},n},u=function(e){var t=e.getContext("2d");return(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)},p=function(e,t){var n=e.textures[t];return n?n:(n=e.textures[t]=new Image,n.src=t,n)},f=function(e,t){var n=t;/(jpg|gif|png)$/.test(t)&&(n="url("+t+")"),e.canvas.style.background=n,e.canvas.style.backgroundSize="contain",e.currentBackground=t}}()},,,,,,function(e,t,n){"use strict";function o(e){return{type:r,text:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.sayHello=o;var r=t.SAY_HELLO="SAY_HELLO"},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var o={};e.exports=o;var r=n(15),i=(n(31),n(5));!function(){o.create=function(e){var t=r.create(),n={label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-(1/0),y:-(1/0)},max:{x:1/0,y:1/0}}};return i.extend(t,n,e)}}()},function(e,t){var n={};e.exports=n,function(){n.create=function(e){return{id:n.id(e),vertex:e,normalImpulse:0,tangentImpulse:0}},n.id=function(e){return e.body.id+"_"+e.index}}()},function(e,t,n){var o={};e.exports=o;var r=n(40),i=n(5);!function(){o.create=function(e){return i.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},e)},o.update=function(e,t,n){var o,a,s,l,c=e.list,u=e.table,p=e.collisionStart,f=e.collisionEnd,d=e.collisionActive,y=[];for(p.length=0,f.length=0,d.length=0,l=0;l<t.length;l++)o=t[l],o.collided&&(a=r.id(o.bodyA,o.bodyB),y.push(a),s=u[a],s?(s.isActive?d.push(s):p.push(s),r.update(s,o,n)):(s=r.create(o,n),u[a]=s,p.push(s),c.push(s)));for(l=0;l<c.length;l++)s=c[l],s.isActive&&i.indexOf(y,s.id)===-1&&(r.setActive(s,!1,n),f.push(s))},o.removeOld=function(e,t){var n,o,r,i,a=e.list,s=e.table,l=[];for(i=0;i<a.length;i++)n=a[i],o=n.collision,o.bodyA.isSleeping||o.bodyB.isSleeping?n.timeUpdated=t:t-n.timeUpdated>1e3&&l.push(i);for(i=0;i<l.length;i++)r=l[i]-i,n=a[r],delete s[n.id],a.splice(r,1)},o.clear=function(e){return e.table={},e.list.length=0,e.collisionStart.length=0,e.collisionActive.length=0,e.collisionEnd.length=0,e}}()},function(e,t,n){var o={};e.exports=o;var r=n(16),i=n(12),a=n(5),s=n(11);!function(){o._restingThresh=4,o._restingThreshTangent=6,o._positionDampen=.9,o._positionWarming=.8,o._frictionNormalMultiplier=5,o.preSolvePosition=function(e){var t,n,o;for(t=0;t<e.length;t++)n=e[t],n.isActive&&(o=n.activeContacts.length,n.collision.parentA.totalContacts+=o,n.collision.parentB.totalContacts+=o)},o.solvePosition=function(e,t){var n,r,a,s,l,c,u,p,f,d=i._temp[0],y=i._temp[1],v=i._temp[2],h=i._temp[3];for(n=0;n<e.length;n++)r=e[n],r.isActive&&!r.isSensor&&(a=r.collision,s=a.parentA,l=a.parentB,c=a.normal,u=i.sub(i.add(l.positionImpulse,l.position,d),i.add(s.positionImpulse,i.sub(l.position,a.penetration,y),v),h),r.separation=i.dot(c,u));for(n=0;n<e.length;n++)r=e[n],!r.isActive||r.isSensor||r.separation<0||(a=r.collision,s=a.parentA,l=a.parentB,c=a.normal,f=(r.separation-r.slop)*t,(s.isStatic||l.isStatic)&&(f*=2),s.isStatic||s.isSleeping||(p=o._positionDampen/s.totalContacts,s.positionImpulse.x+=c.x*f*p,s.positionImpulse.y+=c.y*f*p),l.isStatic||l.isSleeping||(p=o._positionDampen/l.totalContacts,l.positionImpulse.x-=c.x*f*p,l.positionImpulse.y-=c.y*f*p))},o.postSolvePosition=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.totalContacts=0,0!==n.positionImpulse.x||0!==n.positionImpulse.y){for(var a=0;a<n.parts.length;a++){var l=n.parts[a];r.translate(l.vertices,n.positionImpulse),s.update(l.bounds,l.vertices,n.velocity),l.position.x+=n.positionImpulse.x,l.position.y+=n.positionImpulse.y}n.positionPrev.x+=n.positionImpulse.x,n.positionPrev.y+=n.positionImpulse.y,i.dot(n.positionImpulse,n.velocity)<0?(n.positionImpulse.x=0,n.positionImpulse.y=0):(n.positionImpulse.x*=o._positionWarming,n.positionImpulse.y*=o._positionWarming)}}},o.preSolveVelocity=function(e){var t,n,o,r,a,s,l,c,u,p,f,d,y,v,h=i._temp[0],m=i._temp[1];for(t=0;t<e.length;t++)if(o=e[t],o.isActive&&!o.isSensor)for(r=o.activeContacts,a=o.collision,s=a.parentA,l=a.parentB,c=a.normal,u=a.tangent,n=0;n<r.length;n++)p=r[n],f=p.vertex,d=p.normalImpulse,y=p.tangentImpulse,0===d&&0===y||(h.x=c.x*d+u.x*y,h.y=c.y*d+u.y*y,s.isStatic||s.isSleeping||(v=i.sub(f,s.position,m),s.positionPrev.x+=h.x*s.inverseMass,s.positionPrev.y+=h.y*s.inverseMass,s.anglePrev+=i.cross(v,h)*s.inverseInertia),l.isStatic||l.isSleeping||(v=i.sub(f,l.position,m),l.positionPrev.x-=h.x*l.inverseMass,l.positionPrev.y-=h.y*l.inverseMass,l.anglePrev-=i.cross(v,h)*l.inverseInertia))},o.solveVelocity=function(e,t){for(var n=t*t,r=i._temp[0],s=i._temp[1],l=i._temp[2],c=i._temp[3],u=i._temp[4],p=i._temp[5],f=0;f<e.length;f++){var d=e[f];if(d.isActive&&!d.isSensor){var y=d.collision,v=y.parentA,h=y.parentB,m=y.normal,g=y.tangent,b=d.activeContacts,x=1/b.length;v.velocity.x=v.position.x-v.positionPrev.x,v.velocity.y=v.position.y-v.positionPrev.y,h.velocity.x=h.position.x-h.positionPrev.x,h.velocity.y=h.position.y-h.positionPrev.y,v.angularVelocity=v.angle-v.anglePrev,h.angularVelocity=h.angle-h.anglePrev;for(var w=0;w<b.length;w++){var _=b[w],S=_.vertex,P=i.sub(S,v.position,s),T=i.sub(S,h.position,l),k=i.add(v.velocity,i.mult(i.perp(P),v.angularVelocity),c),A=i.add(h.velocity,i.mult(i.perp(T),h.angularVelocity),u),C=i.sub(k,A,p),O=i.dot(m,C),E=i.dot(g,C),M=Math.abs(E),R=a.sign(E),j=(1+d.restitution)*O,B=a.clamp(d.separation+O,0,1)*o._frictionNormalMultiplier,I=E,D=1/0;M>d.friction*d.frictionStatic*B*n&&(D=M,I=a.clamp(d.friction*R*n,-D,D));var L=i.cross(P,m),W=i.cross(T,m),F=x/(v.inverseMass+h.inverseMass+v.inverseInertia*L*L+h.inverseInertia*W*W);if(j*=F,I*=F,O<0&&O*O>o._restingThresh*n)_.normalImpulse=0;else{var H=_.normalImpulse;_.normalImpulse=Math.min(_.normalImpulse+j,0),j=_.normalImpulse-H}if(E*E>o._restingThreshTangent*n)_.tangentImpulse=0;else{var N=_.tangentImpulse;_.tangentImpulse=a.clamp(_.tangentImpulse+I,-D,D),I=_.tangentImpulse-N}r.x=m.x*j+g.x*I,r.y=m.y*j+g.y*I,v.isStatic||v.isSleeping||(v.positionPrev.x+=r.x*v.inverseMass,v.positionPrev.y+=r.y*v.inverseMass,v.anglePrev+=i.cross(P,r)*v.inverseInertia),h.isStatic||h.isSleeping||(h.positionPrev.x-=r.x*h.inverseMass,h.positionPrev.y-=r.y*h.inverseMass,h.anglePrev-=i.cross(T,r)*h.inverseInertia)}}}}}()},function(e,t,n){var o={};e.exports=o;var r=n(99),i=n(32),a=n(102),s=n(67),l=n(101),c=n(104),u=n(63),p=n(18),f=n(15),d=n(31),y=n(5),v=n(30);!function(){o.create=function(e,t){t=y.isElement(e)?t:e,e=y.isElement(e)?e:null,t=t||{},(e||t.render)&&y.log("Engine.create: engine.render is deprecated (see docs)","warn");var n={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],timing:{timestamp:0,timeScale:1},broadphase:{controller:u}},o=y.extend(n,t);if(e||o.render){var i={element:e,controller:s};o.render=y.extend(i,o.render)}return o.render&&o.render.controller&&(o.render=o.render.controller.create(o.render)),o.render&&(o.render.engine=o),o.world=t.world||r.create(o.world),o.pairs=l.create(),o.broadphase=o.broadphase.controller.create(o.broadphase),o.metrics=o.metrics||{extended:!1},o.metrics=c.create(o.metrics),o},o.update=function(o,r,s){r=r||1e3/60,s=s||1;var u,y=o.world,v=o.timing,h=o.broadphase,m=[];v.timestamp+=r*v.timeScale;var g={timestamp:v.timestamp};p.trigger(o,"beforeUpdate",g);var b=f.allBodies(y),x=f.allConstraints(y);for(c.reset(o.metrics),o.enableSleeping&&i.update(b,v.timeScale),t(b,y.gravity),n(b,r,v.timeScale,s,y.bounds),u=0;u<o.constraintIterations;u++)d.solveAll(x,v.timeScale);d.postSolveAll(b),h.controller?(y.isModified&&h.controller.clear(h),h.controller.update(h,b,o,y.isModified),m=h.pairsList):m=b,y.isModified&&f.setModified(y,!1,!1,!0);var w=h.detector(m,o),_=o.pairs,S=v.timestamp;for(l.update(_,w,S),l.removeOld(_,S),o.enableSleeping&&i.afterCollisions(_.list,v.timeScale),_.collisionStart.length>0&&p.trigger(o,"collisionStart",{pairs:_.collisionStart}),a.preSolvePosition(_.list),u=0;u<o.positionIterations;u++)a.solvePosition(_.list,v.timeScale);for(a.postSolvePosition(b),a.preSolveVelocity(_.list),u=0;u<o.velocityIterations;u++)a.solveVelocity(_.list,v.timeScale);return _.collisionActive.length>0&&p.trigger(o,"collisionActive",{pairs:_.collisionActive}),_.collisionEnd.length>0&&p.trigger(o,"collisionEnd",{pairs:_.collisionEnd}),c.update(o.metrics,o),e(b),p.trigger(o,"afterUpdate",g),o},o.merge=function(e,t){if(y.extend(e,t),t.world){e.world=t.world,o.clear(e);for(var n=f.allBodies(e.world),r=0;r<n.length;r++){var a=n[r];i.set(a,!1),a.id=y.nextId()}}},o.clear=function(e){var t=e.world;l.clear(e.pairs);var n=e.broadphase;if(n.controller){var o=f.allBodies(t);n.controller.clear(n),n.controller.update(n,o,e,!0)}};var e=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.force.x=0,n.force.y=0,n.torque=0}},t=function(e,t){var n=void 0!==t.scale?t.scale:.001;if((0!==t.x||0!==t.y)&&0!==n)for(var o=0;o<e.length;o++){var r=e[o];r.isStatic||r.isSleeping||(r.force.y+=r.mass*t.y*n,r.force.x+=r.mass*t.x*n)}},n=function(e,t,n,o,r){for(var i=0;i<e.length;i++){var a=e[i];a.isStatic||a.isSleeping||v.update(a,t,n,o)}}}()},function(e,t,n){var o={};e.exports=o;var r=n(15),i=n(5);!function(){o.create=function(e){var t={extended:!1,narrowDetections:0,narrowphaseTests:0,narrowReuse:0,narrowReuseCount:0,midphaseTests:0,broadphaseTests:0,narrowEff:1e-4,midEff:1e-4,broadEff:1e-4,collisions:0,buckets:0,bodies:0,pairs:0};return i.extend(t,!1,e)},o.reset=function(e){e.extended&&(e.narrowDetections=0,e.narrowphaseTests=0,e.narrowReuse=0,e.narrowReuseCount=0,e.midphaseTests=0,e.broadphaseTests=0,e.narrowEff=0,e.midEff=0,e.broadEff=0,e.collisions=0,e.buckets=0,e.pairs=0,e.bodies=0)},o.update=function(e,t){if(e.extended){var n=t.world,o=r.allBodies(n);e.collisions=e.narrowDetections,e.pairs=t.pairs.list.length,e.bodies=o.length,e.midEff=(e.narrowDetections/(e.midphaseTests||1)).toFixed(2),e.narrowEff=(e.narrowDetections/(e.narrowphaseTests||1)).toFixed(2),e.broadEff=(1-e.broadphaseTests/(o.length||1)).toFixed(2),e.narrowReuse=(e.narrowReuseCount/(e.narrowphaseTests||1)).toFixed(2)}}}()},function(e,t,n){var o={};e.exports=o;var r=n(5);!function(){o.create=function(t){var n={};return t||r.log("Mouse.create: element was undefined, defaulting to document.body","warn"),n.element=t||document.body,n.absolute={x:0,y:0},n.position={x:0,y:0},n.mousedownPosition={x:0,y:0},n.mouseupPosition={x:0,y:0},n.offset={x:0,y:0},n.scale={x:1,y:1},n.wheelDelta=0,n.button=-1,n.pixelRatio=n.element.getAttribute("data-pixel-ratio")||1,n.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},n.mousemove=function(t){var o=e(t,n.element,n.pixelRatio);t.changedTouches&&(n.button=0,t.preventDefault()),n.absolute.x=o.x,n.absolute.y=o.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.sourceEvents.mousemove=t},n.mousedown=function(t){var o=e(t,n.element,n.pixelRatio);t.changedTouches?(n.button=0,t.preventDefault()):n.button=t.button,n.absolute.x=o.x,n.absolute.y=o.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.mousedownPosition.x=n.position.x,n.mousedownPosition.y=n.position.y,n.sourceEvents.mousedown=t},n.mouseup=function(t){var o=e(t,n.element,n.pixelRatio);t.changedTouches&&t.preventDefault(),n.button=-1,n.absolute.x=o.x,n.absolute.y=o.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.mouseupPosition.x=n.position.x,n.mouseupPosition.y=n.position.y,n.sourceEvents.mouseup=t},n.mousewheel=function(e){n.wheelDelta=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail)),e.preventDefault()},o.setElement(n,n.element),n},o.setElement=function(e,t){e.element=t,t.addEventListener("mousemove",e.mousemove),t.addEventListener("mousedown",e.mousedown),t.addEventListener("mouseup",e.mouseup),t.addEventListener("mousewheel",e.mousewheel),t.addEventListener("DOMMouseScroll",e.mousewheel),t.addEventListener("touchmove",e.mousemove),t.addEventListener("touchstart",e.mousedown),t.addEventListener("touchend",e.mouseup)},o.clearSourceEvents=function(e){e.sourceEvents.mousemove=null,e.sourceEvents.mousedown=null,e.sourceEvents.mouseup=null,e.sourceEvents.mousewheel=null,e.wheelDelta=0},o.setOffset=function(e,t){e.offset.x=t.x,e.offset.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},o.setScale=function(e,t){e.scale.x=t.x,e.scale.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y};var e=function(e,t,n){var o,r,i=t.getBoundingClientRect(),a=document.documentElement||document.body.parentNode||document.body,s=void 0!==window.pageXOffset?window.pageXOffset:a.scrollLeft,l=void 0!==window.pageYOffset?window.pageYOffset:a.scrollTop,c=e.changedTouches;return c?(o=c[0].pageX-i.left-s,r=c[0].pageY-i.top-l):(o=e.pageX-i.left-s,r=e.pageY-i.top-l),{x:o/(t.clientWidth/t.width*n),y:r/(t.clientHeight/t.height*n)}}}()},function(e,t,n){var o=e.exports={};o.version="master",o.Body=n(30),o.Composite=n(15),o.World=n(99),o.Contact=n(100),o.Detector=n(62),o.Grid=n(63),o.Pairs=n(101),o.Pair=n(40),o.Query=n(229),o.Resolver=n(102),o.SAT=n(64),o.Constraint=n(31),o.MouseConstraint=n(230),o.Common=n(5),o.Engine=n(103),o.Events=n(18),o.Mouse=n(105),o.Runner=n(231),o.Sleeping=n(32),o.Metrics=n(104),o.Bodies=n(65),o.Composites=n(232),o.Axes=n(66),o.Bounds=n(11),o.Svg=n(233),o.Vector=n(12),o.Vertices=n(16),o.Render=n(67),o.RenderPixi=n(234),o.World.add=o.Composite.add,o.World.remove=o.Composite.remove,o.World.addComposite=o.Composite.addComposite,o.World.addBody=o.Composite.addBody,o.World.addConstraint=o.Composite.addConstraint,o.World.clear=o.Composite.clear,o.Engine.run=o.Runner.run},,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=t.repeat=function(e,t){return new Array(t+1).join(e)},r=t.pad=function(e,t){return o("0",t-e.toString().length)+e};t.formatTime=function(e){return r(e.getHours(),2)+":"+r(e.getMinutes(),2)+":"+r(e.getSeconds(),2)+"."+r(e.getMilliseconds(),3)},t.timer="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date},,,,function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}n(131);var r=n(6),i=o(r),a=n(71),s=n(33),l=n(61),c=n(130),u=o(c),p=n(125),f=o(p),d=(0,u.default)();(0,a.render)(i.default.createElement(s.Provider,{store:d},i.default.createElement(l.Loop,{className:"rgk-loop"},i.default.createElement(l.Stage,{width:700,height:700,style:{background:"#3a9bdc"}},i.default.createElement(f.default,null)))),document.getElementById("app"))},,function(e,t,n){(function(n){var o,r;!function(n,i){"use strict";o=[],void 0!==(r=function(){return i()}.apply(t,o))&&(e.exports=r)}(0,function(e){"use strict";function t(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function o(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function r(e,t,n){r.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function i(e,t){i.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function a(e,t){a.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function s(e,t,n){s.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function l(e,t,n){var o=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,o),e}function c(e){var t=typeof e;return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":void 0!==e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function u(t,n,o,p,f,d,y){f=f||[];var v=f.slice(0);if(void 0!==d){if(p){if("function"==typeof p&&p(v,d))return;if("object"==typeof p){if(p.prefilter&&p.prefilter(v,d))return;if(p.normalize){var h=p.normalize(v,d,t,n);h&&(t=h[0],n=h[1])}}}v.push(d)}"regexp"===c(t)&&"regexp"===c(n)&&(t=t.toString(),n=n.toString());var m=typeof t,g=typeof n;if("undefined"===m)"undefined"!==g&&o(new i(v,n));else if("undefined"===g)o(new a(v,t));else if(c(t)!==c(n))o(new r(v,t,n));else if("[object Date]"===Object.prototype.toString.call(t)&&"[object Date]"===Object.prototype.toString.call(n)&&t-n!=0)o(new r(v,t,n));else if("object"===m&&null!==t&&null!==n){if(y=y||[],y.indexOf(t)<0){if(y.push(t),Array.isArray(t)){var b;t.length;for(b=0;b<t.length;b++)b>=n.length?o(new s(v,b,new a(e,t[b]))):u(t[b],n[b],o,p,v,b,y);for(;b<n.length;)o(new s(v,b,new i(e,n[b++])))}else{var x=Object.keys(t),w=Object.keys(n);x.forEach(function(r,i){var a=w.indexOf(r);a>=0?(u(t[r],n[r],o,p,v,r,y),w=l(w,a)):u(t[r],e,o,p,v,r,y)}),w.forEach(function(t){u(e,n[t],o,p,v,t,y)})}y.length=y.length-1}}else t!==n&&("number"===m&&isNaN(t)&&isNaN(n)||o(new r(v,t,n)))}function p(t,n,o,r){return r=r||[],u(t,n,function(e){e&&r.push(e)},o),r.length?r:e}function f(e,t,n){if(n.path&&n.path.length){var o,r=e[t],i=n.path.length-1;for(o=0;o<i;o++)r=r[n.path[o]];switch(n.kind){case"A":f(r[n.path[o]],n.index,n.item);break;case"D":delete r[n.path[o]];break;case"E":case"N":r[n.path[o]]=n.rhs}}else switch(n.kind){case"A":f(e[t],n.index,n.item);break;case"D":e=l(e,t);break;case"E":case"N":e[t]=n.rhs}return e}function d(e,t,n){if(e&&t&&n&&n.kind){for(var o=e,r=-1,i=n.path?n.path.length-1:0;++r<i;)void 0===o[n.path[r]]&&(o[n.path[r]]="number"==typeof n.path[r]?[]:{}),o=o[n.path[r]];switch(n.kind){case"A":f(n.path?o[n.path[r]]:o,n.index,n.item);break;case"D":delete o[n.path[r]];break;case"E":case"N":o[n.path[r]]=n.rhs}}}function y(e,t,n){if(n.path&&n.path.length){var o,r=e[t],i=n.path.length-1;for(o=0;o<i;o++)r=r[n.path[o]];switch(n.kind){case"A":y(r[n.path[o]],n.index,n.item);break;case"D":r[n.path[o]]=n.lhs;break;case"E":r[n.path[o]]=n.lhs;break;case"N":delete r[n.path[o]]}}else switch(n.kind){case"A":y(e[t],n.index,n.item);break;case"D":e[t]=n.lhs;break;case"E":e[t]=n.lhs;break;case"N":e=l(e,t)}return e}function v(e,t,n){if(e&&t&&n&&n.kind){var o,r,i=e;for(r=n.path.length-1,o=0;o<r;o++)void 0===i[n.path[o]]&&(i[n.path[o]]={}),i=i[n.path[o]];switch(n.kind){case"A":y(i[n.path[o]],n.index,n.item);break;case"D":i[n.path[o]]=n.lhs;break;case"E":i[n.path[o]]=n.lhs;break;case"N":delete i[n.path[o]]}}}function h(e,t,n){if(e&&t){u(e,t,function(o){n&&!n(e,t,o)||d(e,t,o)})}}var m,g,b=[];return m="object"==typeof n&&n?n:"undefined"!=typeof window?window:{},g=m.DeepDiff,g&&b.push(function(){void 0!==g&&m.DeepDiff===p&&(m.DeepDiff=g,g=e)}),t(r,o),t(i,o),t(a,o),t(s,o),Object.defineProperties(p,{diff:{value:p,enumerable:!0},observableDiff:{value:u,enumerable:!0},applyDiff:{value:h,enumerable:!0},applyChange:{value:d,enumerable:!0},revertChange:{value:v,enumerable:!0},isConflict:{value:function(){return void 0!==g},enumerable:!0},noConflict:{value:function(){return b&&(b.forEach(function(e){e()}),b=null),p},enumerable:!0}}),p})}).call(t,n(41))},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(132);var l=n(6),c=o(l),u=n(42),p=o(u),f=n(61),d=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.move=function(e,t,o){var r=o.x,i=void 0===r?0:r,a=o.y,s=void 0===a?0:a;n.setState({task:"move--"+t}),p.default.Body.setVelocity(e,{x:i,y:s})},n.fly=function(e){n.setState({task:"fly"}),p.default.Body.applyForce(e,{x:0,y:0},{x:0,y:-.007}),p.default.Body.set(e,"friction",1e-4)},n.jump=function(e){n.setState({task:"jump"}),p.default.Body.applyForce(e,{x:0,y:0},{x:0,y:-.2}),p.default.Body.set(e,"friction",.01)},n.checkKeys=function(){var e=n.props.keys,t=n.body.body;e.isDown(e.LEFT)?n.move(t,"left",{x:-5}):e.isDown(e.RIGHT)?n.move(t,"right",{x:5}):e.isDown(e.DOWN)?n.move(t,"down",{y:1}):e.isDown(e.UP)&&n.fly(t,"up"),e.isDown(e.SPACE)&&"jump"!==n.state.task&&n.jump(t,0,-30)},n.update=function(){var e=n.body.body,t=parseFloat(e.velocity.y.toFixed(10));console.log("Astronaut::task: ",n.state.task,n.state.position),0===t&&"jump"===n.state.task&&(n.setState({task:"stay"}),p.default.Body.set(e,"friction",.9999)),n.checkKeys(),n.setState({position:e.position})},n.state={stageX:0,task:"stay",position:{}},n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){p.default.Events.on(this.context.engine,"afterUpdate",this.update)}},{key:"componentWillUnmount",value:function(){p.default.Events.off(this.context.engine,"afterUpdate",this.update)}},{key:"getWrapperStyles",value:function(){var e=this.state.position;return{position:"absolute",transform:"translate("+e.x+"px, "+e.y+"px)",transformOrigin:"left top"}}},{key:"render",value:function(){var e=this,t=this.state.position,n=t.x,o=void 0===n?0:n,r=t.y,i=void 0===r?0:r;return c.default.createElement("div",{style:this.getWrapperStyles()},c.default.createElement(f.Body,{inertia:1/0,args:[o,i,50,75],ref:function(t){e.body=t}},c.default.createElement("div",{className:"char-box char-action-"+this.state.task},c.default.createElement("div",{id:"goku"},c.default.createElement("div",{className:"head"}),c.default.createElement("div",{className:"body"}),c.default.createElement("div",{className:"leg"})))))}}]),t}(l.Component);t.default=d,d.propTypes={keys:l.PropTypes.object},d.contextTypes={engine:l.PropTypes.object,scale:l.PropTypes.number}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(6),c=o(l),u=n(42),p=o(u),f=n(61),d=n(123),y=o(d),v=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.createWorld=function(e){var t=p.default.Bodies.rectangle(0,650,1600,5,{isStatic:!0}),n=p.default.Bodies.rectangle(-75,0,75,700,{isStatic:!0}),o=p.default.Bodies.rectangle(600,0,75,700,{isStatic:!0});p.default.World.add(e.world,[t,n,o])},n.keyListener=new f.KeyListener,n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.keyListener.subscribe([this.keyListener.LEFT,this.keyListener.RIGHT,this.keyListener.UP,this.keyListener.DOWN,this.keyListener.SPACE])}},{key:"componentWillUnmount",value:function(){this.keyListener.unsubscribe()}},{key:"render",value:function(){return c.default.createElement("section",{id:"game-level--space"},c.default.createElement(f.World,{onInit:this.createWorld},c.default.createElement(y.default,{keys:this.keyListener})))}}]),t}(l.Component);t.default=v},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{orbital:e.orbital}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(6),u=o(c),p=n(33),f=n(126),d=o(f),y=n(128),v=o(y),h=n(124),m=o(h),g=n(73),b=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onNextScore=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;n.setState({score:n.state.score+e}),console.log("Game::onNextScore: ",n.state.score)},n.onNextLevel=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=n.state,o=t.level,r=t.levelMax;n.setState({level:o+e}),console.log("Game::onNextLevel: ",n.state.level),n.state.level>r&&n.onNextGameStep(1)},n.onPrevLevel=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;n.setState({level:n.state.level-e}),console.log("Game::onPrevLevel: ",n.state.level)},n.onNextGameStep=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=n.state,o=(t.gameStep,t.gameStepMax);n.setState({gameStep:n.state.gameStep+e}),console.log("Game::onNextGameStep: ",n.state.gameStep),n.state.gameStep>o&&n.onGameDone()},n.onPrevGameStep=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;n.setState({gameStep:n.state.gameStep-e}),console.log("Game::onPrevGameStep: ",n.state.gameStep)},n.onGameDone=function(){console.log("Game::onGameDone: Game Ended!!",n.state.level,n.state.gameStep)},n.onResetGame=function(){n.setState({score:0,level:1,gameStep:1}),console.log("Game::onResetGame: ",n.state)};var o={score:0,scoreMin:-25,scoreMax:25,level:1,levelMin:0,levelMax:5,gameStep:1,gameStepMin:0,gameStepMax:3};return n.state=Object.assign({},o),n}return a(t,e),l(t,[{key:"componentWillMount",value:function(){this.props.dispatch((0,g.sayHello)("READY??"))}},{key:"render",value:function(){var e=this.state,t=e.score,n=(e.scoreMax,e.level,e.gameStep);return this.gameStates=[u.default.createElement(d.default,{onNextGameStep:this.onNextGameStep,introText:this.props.orbital.text}),u.default.createElement(m.default,null),u.default.createElement(v.default,{score:t,onResetGame:this.onResetGame})],this.gameStates[n-1]}}]),t}(c.Component);t.default=(0,p.connect)(s)(b)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(6),c=o(l),u=function(e){function t(){var e,n,o,a;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.onKeyPress=function(e){32===e.keyCode&&o.props.onNextGameStep(1)},a=n,i(o,a)}return a(t,e),s(t,[{key:"componentDidMount",value:function(){window.addEventListener("keypress",this.onKeyPress)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keypress",this.onKeyPress)}},{key:"render",value:function(){return c.default.createElement("section",{id:"game-scene--intro"},c.default.createElement("header",{className:"intro-head"},c.default.createElement("div",{className:"intro-head-content"},c.default.createElement("h1",null,c.default.createElement("span",null,"OrbitDevs")," :: ",c.default.createElement("span",null,"Game")," :: ",c.default.createElement("span",null,this.props.introText)),c.default.createElement("p",null,"press ",c.default.createElement("span",null,"space")," to continue"))))}}]),t}(l.Component);t.default=u,u.propTypes={onNextGameStep:l.PropTypes.func},u.defaultProps={onNextGameStep:function(){}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.orbital=void 0;var o=n(73),r={text:"Hello Reducer!!"};t.orbital=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments[1];switch(t.type){case o.SAY_HELLO:return Object.assign({},e,{text:t.text});default:return e}}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(6),c=o(l),u=(n(33),function(e){function t(e){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"render",value:function(){return c.default.createElement("section",{id:"game-scene--score"},c.default.createElement("header",{className:"intro-head"},c.default.createElement("div",{className:"intro-head-content"},c.default.createElement("h1",null,c.default.createElement("span",null,"Congratulation Cosmonaut!!!")),c.default.createElement("p",null,c.default.createElement("strong",null,"You Won!!! Score: ",this.props.score," ")),c.default.createElement("p",null,c.default.createElement("a",{href:"#",onClick:this.props.onResetGame},"Again? Click here...")))))}}]),t}(l.Component));t.default=u,u.propTypes={score:l.PropTypes.number.isRequired,onResetGame:l.PropTypes.func},u.defaultProps={score:0,onResetGame:function(){}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(34),r=n(127),i=(0,o.combineReducers)({orbital:r.orbital});t.default=i},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){return(0,a.createStore)(p.default,e,a.applyMiddleware.apply(void 0,r(f)))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(34),s=n(72),l=o(s),c=n(258),u=(o(c),n(129)),p=o(u),f=[l.default]},function(e,t){},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,u,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),f=n(6),d=n(106),y=o(d),v=(u=c=function(e){function t(e,n){a(this,t);var o=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),l=e.args,c=(e.children,e.shape),u=i(e,["args","children","shape"]);return o.body=d.Bodies[c].apply(d.Bodies,r(l).concat([u])),d.World.addBody(n.engine.world,o.body),o}return l(t,e),p(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,n=(e.args,e.children,e.shape,i(e,["args","children","shape"]));Object.keys(n).forEach(function(o){o in t.body&&t.props[o]!==e[o]&&y.default.Body.set(t.body,o,n[o])})}},{key:"componentWillUnmount",value:function(){d.World.remove(this.context.engine.world,this.body)}},{key:"getChildContext",value:function(){return{body:this.body}}},{key:"render",value:function(){return this.props.children}}]),t}(f.Component),c.propTypes={angle:f.PropTypes.number,area:f.PropTypes.string,args:f.PropTypes.array,axes:f.PropTypes.shape({x:f.PropTypes.number,y:f.PropTypes.number}),bounds:f.PropTypes.shape({min:f.PropTypes.shape({x:f.PropTypes.number,y:f.PropTypes.number}),max:f.PropTypes.shape({x:f.PropTypes.number,y:f.PropTypes.number})}),children:f.PropTypes.any,collisionFilter:f.PropTypes.shape({category:f.PropTypes.number,group:f.PropTypes.number,mask:f.PropTypes.number}),density:f.PropTypes.number,force:f.PropTypes.shape({x:f.PropTypes.number,y:f.PropTypes.number}),friction:f.PropTypes.number,frictionAir:f.PropTypes.number,frictionStatic:f.PropTypes.number,id:f.PropTypes.number,inertia:f.PropTypes.number,inverseInertia:f.PropTypes.number,inverseMass:f.PropTypes.number,isSensor:f.PropTypes.bool,isSleeping:f.PropTypes.bool,isStatic:f.PropTypes.bool,label:f.PropTypes.string,mass:f.PropTypes.number,position:f.PropTypes.shape({x:f.PropTypes.number,y:f.PropTypes.number}),restitution:f.PropTypes.number,shape:f.PropTypes.string,sleepThreshold:f.PropTypes.number,slop:f.PropTypes.number,slope:f.PropTypes.number,timeScale:f.PropTypes.number,torque:f.PropTypes.number,vertices:f.PropTypes.array},c.defaultProps={args:[0,0,100,100],restitution:0,friction:1,frictionStatic:0,shape:"rectangle"},c.contextTypes={engine:f.PropTypes.object},c.childContextTypes={body:f.PropTypes.object},u);t.default=v;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(v,"Body","src/components/body.js")}()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),p=n(6),f=o(p),d=n(227),y=o(d),v=(l=s=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.loop=new y.default,n}return a(t,e),u(t,[{key:"componentDidMount",value:function(){this.loop.start()}},{key:"componentWillUnmount",value:function(){this.loop.stop()}},{key:"getChildContext",value:function(){return{loop:this.loop}}},{key:"render",value:function(){var e={height:"100%",width:"100%"},t=c({},e,this.props.style);return f.default.createElement("div",{style:t},this.props.children)}}]),t}(p.Component),s.propTypes={children:p.PropTypes.any,style:p.PropTypes.object},s.childContextTypes={loop:p.PropTypes.object},l);t.default=v;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(v,"Loop","src/components/loop.js")}()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),p=n(6),f=o(p),d=(l=s=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.loopID=null,n.tickCount=0,n.finished=!1,n.state={currentStep:0},n}return a(t,e),u(t,[{key:"componentDidMount",value:function(){this.props.onPlayStateChanged(1);var e=this.animate.bind(this,this.props);this.loopID=this.context.loop.subscribe(e)}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.state!==this.props.state&&(this.finished=!1,this.props.onPlayStateChanged(1),this.context.loop.unsubscribe(this.loopID),this.tickCount=0,this.setState({currentStep:0},function(){var n=t.animate.bind(t,e);t.loopID=t.context.loop.subscribe(n)}))}},{key:"componentWillUnmount",value:function(){this.context.loop.unsubscribe(this.loopID)}},{key:"animate",value:function(e){var t=e.repeat,n=e.ticksPerFrame,o=e.state,r=e.steps;if(this.tickCount!==n||this.finished)this.tickCount++;else{if(0!==r[o]){var i=this.state.currentStep,a=r[o],s=i===a?0:i+1;this.setState({currentStep:s}),i===a&&t===!1&&(this.finished=!0,this.props.onPlayStateChanged(0))}this.tickCount=0}}},{key:"getImageStyles",value:function(){var e=this.state.currentStep,t=this.props,n=t.state,o=t.tileWidth,r=t.tileHeight;return{position:"absolute",transform:"translate(-"+(this.props.offset[0]+e*o)+"px, -"+(this.props.offset[1]+n*r)+"px)"}}},{key:"getWrapperStyles",value:function(){return{height:this.props.tileHeight,width:this.props.tileWidth,overflow:"hidden",position:"relative",transform:"scale("+(this.props.scale||this.context.scale)+")",transformOrigin:"top left",imageRendering:"pixelated"}}},{key:"render",value:function(){return f.default.createElement("div",{style:c({},this.getWrapperStyles(),this.props.style)},f.default.createElement("img",{style:this.getImageStyles(),src:this.props.src}))}}]),t}(p.Component),s.propTypes={offset:p.PropTypes.array,onPlayStateChanged:p.PropTypes.func,repeat:p.PropTypes.bool,scale:p.PropTypes.number,src:p.PropTypes.string,state:p.PropTypes.number,steps:p.PropTypes.array,style:p.PropTypes.object,ticksPerFrame:p.PropTypes.number,tileHeight:p.PropTypes.number,tileWidth:p.PropTypes.number},s.defaultProps={offset:[0,0],onPlayStateChanged:function(){},repeat:!0,src:"",state:0,steps:[],ticksPerFrame:4,tileHeight:64,tileWidth:64},s.contextTypes={loop:p.PropTypes.object,scale:p.PropTypes.number},l);t.default=d;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(d,"Sprite","src/components/sprite.js")}()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u=function(){function e(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),f=n(6),d=o(f),y=(l=s=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setDimensions=function(){return n.__setDimensions__REACT_HOT_LOADER__.apply(n,arguments)},n.container=null,n.state={dimensions:[0,0]},n}return a(t,e),p(t,[{key:"__setDimensions__REACT_HOT_LOADER__",value:function(){this.setState({dimensions:[this.container.offsetWidth,this.container.offsetHeight]})}}]),p(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.setDimensions),this.setDimensions()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.setDimensions)}},{key:"getChildContext",value:function(){return{scale:this.getScale().scale,loop:this.context.loop}}},{key:"getScale",value:function(){var e=u(this.state.dimensions,2),t=e[0],n=e[1],o=this.props,r=o.height,i=o.width,a=void 0,s=void 0,l=void 0;return r/i>n/t?(s=n,a=s*i/r,l=n/r):(a=t,s=a*r/i,l=t/i),this.container?{height:s,width:a,scale:l}:{height:r,width:i,scale:1}}},{key:"getWrapperStyles",value:function(){return{height:"100%",width:"100%",position:"relative"}}},{key:"getInnerStyles",value:function(){var e=this.getScale(),t=Math.floor((this.state.dimensions[0]-e.width)/2),n=Math.floor((this.state.dimensions[1]-e.height)/2);return{height:Math.floor(e.height),width:Math.floor(e.width),position:"absolute",overflow:"hidden",transform:"translate("+t+"px, "+n+"px)"}}},{key:"render",value:function(){var e=this;return d.default.createElement("div",{style:this.getWrapperStyles(),ref:function(t){e.container=t}},d.default.createElement("div",{style:c({},this.getInnerStyles(),this.props.style)},this.props.children))}}]),t}(f.Component),s.propTypes={children:f.PropTypes.any,height:f.PropTypes.number,style:f.PropTypes.object,width:f.PropTypes.number},s.defaultProps={width:1024,height:576},s.contextTypes={loop:f.PropTypes.object},s.childContextTypes={loop:f.PropTypes.object,scale:f.PropTypes.number},l);t.default=y;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(y,"Stage","src/components/stage.js")}()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),p=n(6),f=o(p),d=(l=s=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"shouldComponentUpdate",value:function(e,t,n){return this.context.scale!==n.scale}},{key:"generateMap",value:function(){var e=this,t=this.props,n=t.columns,o=t.layers,r=t.rows,i=[];return o.forEach(function(t,o){for(var a=[],s=0;s<r;s++)for(var l=0;l<n;l++){var c=s*n+l;0!==t[c]&&a.push(f.default.createElement("div",{key:"tile-"+o+"-"+s+"-"+l,style:e.getImageWrapperStyles(s,l)},e.props.renderTile(e.getTileData(s,l,t[c]),e.props.src,e.getImageStyles(t[c]))))}i.push(a)}),i}},{key:"getTileData",value:function(e,t,n){var o=this.props.tileSize,r=o;return{index:n,size:o,left:t*r,top:e*r}}},{key:"getImageStyles",value:function(e){var t=this.context.scale,n=this.props.tileSize;return{position:"absolute",imageRendering:"pixelated",display:"block",height:"100%",transform:"translate(-"+(e-1)*Math.round(t*n)+"px, 0px)"}}},{key:"getImageWrapperStyles",value:function(e,t){var n=this.context.scale,o=this.props.tileSize,r=Math.round(n*o);return{height:r,width:r,overflow:"hidden",position:"absolute",transform:"translate("+t*r+"px, "+e*r+"px)"}}},{key:"getLayerStyles",value:function(){return{position:"absolute",top:0,left:0}}},{key:"getWrapperStyles",value:function(){return{position:"absolute",top:0,left:0}}},{key:"render",value:function(){var e=this,t=this.generateMap();return f.default.createElement("div",{style:c({},this.getWrapperStyles(),this.props.style)},t.map(function(t,n){return f.default.createElement("div",{key:"layer-"+n,style:e.getLayerStyles()},t)}))}}]),t}(p.Component),s.propTypes={columns:p.PropTypes.number,layers:p.PropTypes.array,renderTile:p.PropTypes.func,rows:p.PropTypes.number,scale:p.PropTypes.number,src:p.PropTypes.string,style:p.PropTypes.object,tileSize:p.PropTypes.number},s.defaultProps={columns:16,layers:[],renderTile:function(e,t,n){return f.default.createElement("img",{style:n,src:t})},rows:9,src:"",tileSize:64},s.contextTypes={scale:p.PropTypes.number},l);t.default=d;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(d,"TileMap","src/components/tile-map.js")}()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(6),p=o(u),f=n(106),d=o(f),y=(l=s=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.loop=function(){return n.__loop__REACT_HOT_LOADER__.apply(n,arguments)},n.loopID=null,n.lastTime=null;var o=d.default.World.create({gravity:e.gravity});return n.engine=f.Engine.create({world:o}),n}return a(t,e),c(t,[{key:"__loop__REACT_HOT_LOADER__",value:function(){var e=.001*Date.now();f.Engine.update(this.engine,1e3/60,this.lastTime?e/this.lastTime:1),this.lastTime=e}}]),c(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.gravity;t!==this.props.gravity&&(this.engine.world.gravity=t)}},{key:"componentDidMount",value:function(){this.loopID=this.context.loop.subscribe(this.loop),this.props.onInit(this.engine),f.Events.on(this.engine,"afterUpdate",this.props.onUpdate),f.Events.on(this.engine,"collisionStart",this.props.onCollision)}},{key:"componentWillUnmount",value:function(){this.context.loop.unsubscribe(this.loopID),f.Events.off(this.engine,"afterUpdate",this.props.onUpdate),f.Events.off(this.engine,"collisionStart",this.props.onCollision)}},{key:"getChildContext",value:function(){return{engine:this.engine}}},{key:"render",value:function(){var e={position:"absolute",top:0,left:0,height:"100%",width:"100%"};return p.default.createElement("div",{style:e},this.props.children)}}]),t}(u.Component),s.propTypes={children:u.PropTypes.any,gravity:u.PropTypes.shape({x:u.PropTypes.number,y:u.PropTypes.number,scale:u.PropTypes.number}),onCollision:u.PropTypes.func,onInit:u.PropTypes.func,onUpdate:u.PropTypes.func},s.defaultProps={gravity:{x:0,y:1,scale:.001},onCollision:function(){},onInit:function(){},onUpdate:function(){}},s.contextTypes={scale:u.PropTypes.number,loop:u.PropTypes.object},s.childContextTypes={engine:u.PropTypes.object},l);t.default=y;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(y,"World","src/components/world.js")}()},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(){function e(t,n){var r=this;o(this,e),this.play=function(){return r.__play__REACT_HOT_LOADER__.apply(r,arguments)},this.loadBuffer=function(){return r.__loadBuffer__REACT_HOT_LOADER__.apply(r,arguments)},this.url=t||null,this.callback=n||function(){},this.buffer=null,window.AudioContext=window.AudioContext||window.webkitAudioContext,this.context=window.context||new AudioContext,this.loadBuffer()}return r(e,[{key:"__play__REACT_HOT_LOADER__",value:function(e){var t=e&&e.volume,n=e&&e.offset,o=e&&e.loop,r=this.context.createBufferSource(),i=this.context.createGain();return i.gain.value=t||.5,i.connect(this.context.destination),r.connect(i),r.buffer=this.buffer,r.start(n?this.context.currentTime+n:0),r.loop=o||!1,r.stop.bind(r)}},{key:"__loadBuffer__REACT_HOT_LOADER__",value:function(){var e=this,t=new XMLHttpRequest;t.open("GET",this.url,!0),t.responseType="arraybuffer",t.onload=function(){e.context.decodeAudioData(t.response,function(t){if(!t)return void console.error("error decoding file data: "+e.url);e.buffer=t,e.callback()},function(e){console.error("decodeAudioData error",e)})},t.onerror=function(){console.error("BufferLoader: XHR error")},t.send()}}]),e}();t.default=i;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(i,"AudioPlayer","src/utils/audio-player.js")}()},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(){function e(){var t=this;o(this,e),this.loop=function(){return t.__loop__REACT_HOT_LOADER__.apply(t,arguments)},this.subscribers=[],this.loopID=null}return r(e,[{key:"__loop__REACT_HOT_LOADER__",value:function(){this.subscribers.forEach(function(e){e.call()}),this.loopID=window.requestAnimationFrame(this.loop)}}]),r(e,[{key:"start",value:function(){this.loopID||this.loop()}},{key:"stop",value:function(){window.cancelAnimationFrame(this.loopID)}},{key:"subscribe",value:function(e){return this.subscribers.push(e)}},{key:"unsubscribe",value:function(e){delete this.subscribers[e-1]}}]),e}();t.default=i;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(i,"GameLoop","src/utils/game-loop.js")}()},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(){function e(){var t=this;o(this,e),this.LEFT=37,this.RIGHT=39,this.UP=38,this.DOWN=40,this.SPACE=32,this.down=function(){return t.__down__REACT_HOT_LOADER__.apply(t,arguments)},this.up=function(){return t.__up__REACT_HOT_LOADER__.apply(t,arguments)},this.isDown=function(){return t.__isDown__REACT_HOT_LOADER__.apply(t,arguments)},this.subscribe=function(){return t.__subscribe__REACT_HOT_LOADER__.apply(t,arguments)},this.unsubscribe=function(){return t.__unsubscribe__REACT_HOT_LOADER__.apply(t,arguments)},this.keys={}}return r(e,[{key:"__down__REACT_HOT_LOADER__",value:function(e){e.keyCode in this.keys&&(e.preventDefault(),this.keys[e.keyCode]=!0)}},{key:"__up__REACT_HOT_LOADER__",value:function(e){e.keyCode in this.keys&&(e.preventDefault(),this.keys[e.keyCode]=!1)}},{key:"__isDown__REACT_HOT_LOADER__",value:function(e){return this.keys[e]||!1}},{key:"__subscribe__REACT_HOT_LOADER__",value:function(e){var t=this;window.addEventListener("keydown",this.down),window.addEventListener("keyup",this.up),e.forEach(function(e){t.keys[e]=!1})}},{key:"__unsubscribe__REACT_HOT_LOADER__",value:function(){window.removeEventListener("keydown",this.down),window.removeEventListener("keyup",this.up),this.keys={}}}]),e}();t.default=i;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(i,"KeyListener","src/utils/key-listener.js")}()},function(e,t,n){var o={};e.exports=o;var r=n(12),i=n(64),a=n(11),s=n(65),l=n(16);!function(){o.ray=function(e,t,n,o){o=o||1e-100;for(var l=r.angle(t,n),c=r.magnitude(r.sub(t,n)),u=.5*(n.x+t.x),p=.5*(n.y+t.y),f=s.rectangle(u,p,c,o,{angle:l}),d=[],y=0;y<e.length;y++){var v=e[y];if(a.overlaps(v.bounds,f.bounds))for(var h=1===v.parts.length?0:1;h<v.parts.length;h++){var m=v.parts[h];if(a.overlaps(m.bounds,f.bounds)){var g=i.collides(m,f);if(g.collided){g.body=g.bodyA=g.bodyB=v,d.push(g);break}}}}return d},o.region=function(e,t,n){for(var o=[],r=0;r<e.length;r++){var i=e[r],s=a.overlaps(i.bounds,t);(s&&!n||!s&&n)&&o.push(i)}return o},o.point=function(e,t){for(var n=[],o=0;o<e.length;o++){var r=e[o];if(a.contains(r.bounds,t))for(var i=1===r.parts.length?0:1;i<r.parts.length;i++){var s=r.parts[i];if(a.contains(s.bounds,t)&&l.contains(s.vertices,t)){n.push(r);break}}}return n}}()},function(e,t,n){var o={};e.exports=o;var r=n(16),i=n(32),a=n(105),s=n(18),l=n(62),c=n(31),u=n(15),p=n(5),f=n(11);!function(){o.create=function(t,n){var r=(t?t.mouse:null)||(n?n.mouse:null);r||(t&&t.render&&t.render.canvas?r=a.create(t.render.canvas):n&&n.element?r=a.create(n.element):(r=a.create(),p.log("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected","warn")));var i=c.create({label:"Mouse Constraint",pointA:r.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),l={type:"mouseConstraint",mouse:r,element:null,body:null,constraint:i,collisionFilter:{category:1,mask:4294967295,group:0}},f=p.extend(l,n);return s.on(t,"tick",function(){var n=u.allBodies(t.world);o.update(f,n),e(f)}),f},o.update=function(e,t){var n=e.mouse,o=e.constraint,a=e.body;if(0===n.button){if(o.bodyB)i.set(o.bodyB,!1),o.pointA=n.position;else for(var c=0;c<t.length;c++)if(a=t[c],f.contains(a.bounds,n.position)&&l.canCollide(a.collisionFilter,e.collisionFilter))for(var u=a.parts.length>1?1:0;u<a.parts.length;u++){var p=a.parts[u];if(r.contains(p.vertices,n.position)){o.pointA=n.position,o.bodyB=e.body=a,o.pointB={x:n.position.x-a.position.x,y:n.position.y-a.position.y},o.angleB=a.angle,i.set(a,!1),s.trigger(e,"startdrag",{mouse:n,body:a});break}}}else o.bodyB=e.body=null,o.pointB=null,a&&s.trigger(e,"enddrag",{mouse:n,body:a})};var e=function(e){var t=e.mouse,n=t.sourceEvents;n.mousemove&&s.trigger(e,"mousemove",{mouse:t}),n.mousedown&&s.trigger(e,"mousedown",{mouse:t}),n.mouseup&&s.trigger(e,"mouseup",{mouse:t}),a.clearSourceEvents(t)}}()},function(e,t,n){var o={};e.exports=o;var r=n(18),i=n(103),a=n(5);!function(){var e,t;"undefined"!=typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(function(){e(a.now())},1e3/60)},t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),o.create=function(e){var t={fps:60,correction:1,deltaSampleSize:60,counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:!1,enabled:!0},n=a.extend(t,e);return n.delta=n.delta||1e3/n.fps,n.deltaMin=n.deltaMin||1e3/n.fps,n.deltaMax=n.deltaMax||1e3/(.5*n.fps),n.fps=1e3/n.delta,n},o.run=function(t,n){return void 0!==t.positionIterations&&(n=t,t=o.create()),function r(i){t.frameRequestId=e(r),i&&t.enabled&&o.tick(t,n,i)}(),t},o.tick=function(e,t,n){var o,a=t.timing,s=1,l={timestamp:a.timestamp};r.trigger(e,"beforeTick",l),r.trigger(t,"beforeTick",l),e.isFixed?o=e.delta:(o=n-e.timePrev||e.delta,e.timePrev=n,e.deltaHistory.push(o),e.deltaHistory=e.deltaHistory.slice(-e.deltaSampleSize),o=Math.min.apply(null,e.deltaHistory),o=o<e.deltaMin?e.deltaMin:o,o=o>e.deltaMax?e.deltaMax:o,s=o/e.delta,e.delta=o),0!==e.timeScalePrev&&(s*=a.timeScale/e.timeScalePrev),0===a.timeScale&&(s=0),e.timeScalePrev=a.timeScale,e.correction=s,e.frameCounter+=1,n-e.counterTimestamp>=1e3&&(e.fps=e.frameCounter*((n-e.counterTimestamp)/1e3),e.counterTimestamp=n,e.frameCounter=0),r.trigger(e,"tick",l),r.trigger(t,"tick",l),t.world.isModified&&t.render&&t.render.controller&&t.render.controller.clear&&t.render.controller.clear(t.render),r.trigger(e,"beforeUpdate",l),i.update(t,o,s),r.trigger(e,"afterUpdate",l),t.render&&t.render.controller&&(r.trigger(e,"beforeRender",l),r.trigger(t,"beforeRender",l),t.render.controller.world(t.render),r.trigger(e,"afterRender",l),r.trigger(t,"afterRender",l)),r.trigger(e,"afterTick",l),r.trigger(t,"afterTick",l)},o.stop=function(e){t(e.frameRequestId)},o.start=function(e,t){o.run(e,t)}}()},function(e,t,n){var o={};e.exports=o;var r=n(15),i=n(31),a=n(5),s=n(30),l=n(65);!function(){o.stack=function(e,t,n,o,i,a,l){for(var c,u=r.create({label:"Stack"}),p=e,f=t,d=0,y=0;y<o;y++){for(var v=0,h=0;h<n;h++){var m=l(p,f,h,y,c,d);if(m){var g=m.bounds.max.y-m.bounds.min.y,b=m.bounds.max.x-m.bounds.min.x;g>v&&(v=g),s.translate(m,{x:.5*b,y:.5*g}),p=m.bounds.max.x+i,r.addBody(u,m),c=m,d+=1}else p+=i}f+=v+a,p=e}return u},o.chain=function(e,t,n,o,s,l){for(var c=e.bodies,u=1;u<c.length;u++){var p=c[u-1],f=c[u],d=p.bounds.max.y-p.bounds.min.y,y=p.bounds.max.x-p.bounds.min.x,v=f.bounds.max.y-f.bounds.min.y,h=f.bounds.max.x-f.bounds.min.x,m={bodyA:p,pointA:{x:y*t,y:d*n},bodyB:f,pointB:{x:h*o,y:v*s}},g=a.extend(m,l);r.addConstraint(e,i.create(g))}return e.label+=" Chain",e},o.mesh=function(e,t,n,o,s){var l,c,u,p,f,d=e.bodies;for(l=0;l<n;l++){for(c=1;c<t;c++)u=d[c-1+l*t],p=d[c+l*t],r.addConstraint(e,i.create(a.extend({bodyA:u,bodyB:p},s)));if(l>0)for(c=0;c<t;c++)u=d[c+(l-1)*t],p=d[c+l*t],r.addConstraint(e,i.create(a.extend({bodyA:u,bodyB:p},s))),o&&c>0&&(f=d[c-1+(l-1)*t],r.addConstraint(e,i.create(a.extend({bodyA:f,bodyB:p},s)))),o&&c<t-1&&(f=d[c+1+(l-1)*t],r.addConstraint(e,i.create(a.extend({bodyA:f,bodyB:p},s))))}return e.label+=" Mesh",e},o.pyramid=function(e,t,n,r,i,a,l){return o.stack(e,t,n,r,i,a,function(t,o,a,c,u,p){var f=Math.min(r,Math.ceil(n/2)),d=u?u.bounds.max.x-u.bounds.min.x:0;if(!(c>f)){c=f-c;var y=c,v=n-1-c;if(!(a<y||a>v)){1===p&&s.translate(u,{x:(a+(n%2==1?1:-1))*d,y:0});return l(e+(u?a*d:0)+a*i,o,a,c,u,p)}}})},o.newtonsCradle=function(e,t,n,o,a){for(var s=r.create({label:"Newtons Cradle"}),c=0;c<n;c++){var u=1.9,p=l.circle(e+c*(o*u),t+a,o,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),f=i.create({pointA:{x:e+c*(o*u),y:t},bodyB:p});r.addBody(s,p),r.addConstraint(s,f)}return s},o.car=function(e,t,n,o,a){var c=s.nextGroup(!0),u=-20,p=.5*-n+u,f=.5*n-u,d=0,y=r.create({label:"Car"}),v=l.trapezoid(e,t,n,o,.3,{collisionFilter:{group:c},friction:.01,chamfer:{radius:10}}),h=l.circle(e+p,t+d,a,{collisionFilter:{group:c},friction:.8,density:.01}),m=l.circle(e+f,t+d,a,{collisionFilter:{group:c},friction:.8,density:.01}),g=i.create({bodyA:v,pointA:{x:p,y:d},bodyB:h,stiffness:.2}),b=i.create({bodyA:v,pointA:{x:f,y:d},bodyB:m,stiffness:.2});return r.addBody(y,v),r.addBody(y,h),r.addBody(y,m),r.addConstraint(y,g),r.addConstraint(y,b),y},o.softBody=function(e,t,n,r,i,s,c,u,p,f){p=a.extend({inertia:1/0},p),f=a.extend({stiffness:.4},f);var d=o.stack(e,t,n,r,i,s,function(e,t){return l.circle(e,t,u,p)});return o.mesh(d,n,r,c,f),d.label="Soft Body",d}}()},function(e,t,n){var o={};e.exports=o;n(11);!function(){o.pathToVertices=function(t,n){var o,r,i,a,s,l,c,u,p,f,d,y,v=[],h=0,m=0,g=0;n=n||15;var b=function(e,t,n){var o=n%2==1&&n>1;if(!p||e!=p.x||t!=p.y){p&&o?(d=p.x,y=p.y):(d=0,y=0);var r={x:d+e,y:y+t};!o&&p||(p=r),v.push(r),m=d+e,g=y+t}},x=function(e){var t=e.pathSegTypeAsLetter.toUpperCase();if("Z"!==t){switch(t){case"M":case"L":case"T":case"C":case"S":case"Q":m=e.x,g=e.y;break;case"H":m=e.x;break;case"V":g=e.y}b(m,g,e.pathSegType)}};for(e(t),i=t.getTotalLength(),l=[],o=0;o<t.pathSegList.numberOfItems;o+=1)l.push(t.pathSegList.getItem(o));for(c=l.concat();h<i;){if(f=t.getPathSegAtLength(h),(s=l[f])!=u){for(;c.length&&c[0]!=s;)x(c.shift());u=s}switch(s.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":a=t.getPointAtLength(h),b(a.x,a.y,0)}h+=n}for(o=0,r=c.length;o<r;++o)x(c[o]);return v};var e=function(e){for(var t,n,o,r,i,a,s=e.pathSegList,l=0,c=0,u=s.numberOfItems,p=0;p<u;++p){var f=s.getItem(p),d=f.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(d))"x"in f&&(l=f.x),"y"in f&&(c=f.y);else switch("x1"in f&&(o=l+f.x1),"x2"in f&&(i=l+f.x2),"y1"in f&&(r=c+f.y1),"y2"in f&&(a=c+f.y2),"x"in f&&(l+=f.x),"y"in f&&(c+=f.y),d){case"m":s.replaceItem(e.createSVGPathSegMovetoAbs(l,c),p);break;case"l":s.replaceItem(e.createSVGPathSegLinetoAbs(l,c),p);break;case"h":s.replaceItem(e.createSVGPathSegLinetoHorizontalAbs(l),p);break;case"v":s.replaceItem(e.createSVGPathSegLinetoVerticalAbs(c),p);break;case"c":s.replaceItem(e.createSVGPathSegCurvetoCubicAbs(l,c,o,r,i,a),p);break;case"s":s.replaceItem(e.createSVGPathSegCurvetoCubicSmoothAbs(l,c,i,a),p);break;case"q":s.replaceItem(e.createSVGPathSegCurvetoQuadraticAbs(l,c,o,r),p);break;case"t":s.replaceItem(e.createSVGPathSegCurvetoQuadraticSmoothAbs(l,c),p);break;case"a":s.replaceItem(e.createSVGPathSegArcAbs(l,c,f.r1,f.r2,f.angle,f.largeArcFlag,f.sweepFlag),p);break;case"z":case"Z":l=t,c=n}"M"!=d&&"m"!=d||(t=l,n=c)}}}()},function(e,t,n){var o={};e.exports=o;var r=n(15),i=n(5);!function(){var e,t;"undefined"!=typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(function(){e(i.now())},1e3/60)},t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),o.create=function(e){i.log("RenderPixi.create: Matter.RenderPixi is deprecated (see docs)","warn");var t={controller:o,engine:null,element:null,frameRequestId:null,canvas:null,renderer:null,container:null,spriteContainer:null,pixiOptions:null,options:{width:800,height:600,background:"#fafafa",wireframeBackground:"#222",hasBounds:!1,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1}},n=i.extend(t,e),r=!n.options.wireframes&&"transparent"===n.options.background;return n.pixiOptions=n.pixiOptions||{view:n.canvas,transparent:r,antialias:!0,backgroundColor:e.background},n.mouse=e.mouse,n.engine=e.engine,n.renderer=n.renderer||new PIXI.WebGLRenderer(n.options.width,n.options.height,n.pixiOptions),n.container=n.container||new PIXI.Container,n.spriteContainer=n.spriteContainer||new PIXI.Container,n.canvas=n.canvas||n.renderer.view,n.bounds=n.bounds||{min:{x:0,y:0},max:{x:n.options.width,y:n.options.height}},n.textures={},n.sprites={},n.primitives={},n.container.addChild(n.spriteContainer),i.isElement(n.element)?n.element.appendChild(n.canvas):i.log('No "render.element" passed, "render.canvas" was not inserted into document.',"warn"),n.canvas.oncontextmenu=function(){return!1},n.canvas.onselectstart=function(){return!1},n},o.run=function(t){!function n(r){t.frameRequestId=e(n),o.world(t)}()},o.stop=function(e){t(e.frameRequestId)},o.clear=function(e){for(var t=e.container,n=e.spriteContainer;t.children[0];)t.removeChild(t.children[0]);for(;n.children[0];)n.removeChild(n.children[0]);var o=e.sprites["bg-0"];e.textures={},e.sprites={},e.primitives={},e.sprites["bg-0"]=o,o&&t.addChildAt(o,0),e.container.addChild(e.spriteContainer),e.currentBackground=null,t.scale.set(1,1),t.position.set(0,0)},o.setBackground=function(e,t){if(e.currentBackground!==t){var n=t.indexOf&&t.indexOf("#")!==-1,o=e.sprites["bg-0"];if(n){var r=i.colorToNumber(t);e.renderer.backgroundColor=r,o&&e.container.removeChild(o)}else if(!o){var a=s(e,t);o=e.sprites["bg-0"]=new PIXI.Sprite(a),o.position.x=0,o.position.y=0,e.container.addChildAt(o,0)}e.currentBackground=t}},o.world=function(e){var t,n=e.engine,i=n.world,a=e.renderer,s=e.container,l=e.options,c=r.allBodies(i),u=r.allConstraints(i),p=[];l.wireframes?o.setBackground(e,l.wireframeBackground):o.setBackground(e,l.background);var f=e.bounds.max.x-e.bounds.min.x,d=e.bounds.max.y-e.bounds.min.y,y=f/e.options.width,v=d/e.options.height;if(l.hasBounds){for(t=0;t<c.length;t++){var h=c[t];h.render.sprite.visible=Bounds.overlaps(h.bounds,e.bounds)}for(t=0;t<u.length;t++){var m=u[t],g=m.bodyA,b=m.bodyB,x=m.pointA,w=m.pointB;g&&(x=Vector.add(g.position,m.pointA)),b&&(w=Vector.add(b.position,m.pointB)),x&&w&&(Bounds.contains(e.bounds,x)||Bounds.contains(e.bounds,w))&&p.push(m)}s.scale.set(1/y,1/v),s.position.set(-e.bounds.min.x*(1/y),-e.bounds.min.y*(1/v))}else p=u;for(t=0;t<c.length;t++)o.body(e,c[t]);for(t=0;t<p.length;t++)o.constraint(e,p[t]);a.render(s)},o.constraint=function(e,t){var n=(e.engine,t.bodyA),o=t.bodyB,r=t.pointA,a=t.pointB,s=e.container,l=t.render,c="c-"+t.id,u=e.primitives[c];if(u||(u=e.primitives[c]=new PIXI.Graphics),!l.visible||!t.pointA||!t.pointB)return void u.clear();i.indexOf(s.children,u)===-1&&s.addChild(u),u.clear(),u.beginFill(0,0),u.lineStyle(l.lineWidth,i.colorToNumber(l.strokeStyle),1),n?u.moveTo(n.position.x+r.x,n.position.y+r.y):u.moveTo(r.x,r.y),o?u.lineTo(o.position.x+a.x,o.position.y+a.y):u.lineTo(a.x,a.y),u.endFill()},o.body=function(e,t){var o=(e.engine,t.render);if(o.visible)if(o.sprite&&o.sprite.texture){var r="b-"+t.id,s=e.sprites[r],l=e.spriteContainer;s||(s=e.sprites[r]=n(e,t)),i.indexOf(l.children,s)===-1&&l.addChild(s),s.position.x=t.position.x,s.position.y=t.position.y,s.rotation=t.angle,s.scale.x=o.sprite.xScale||1,s.scale.y=o.sprite.yScale||1}else{var c="b-"+t.id,u=e.primitives[c],p=e.container;u||(u=e.primitives[c]=a(e,t),u.initialAngle=t.angle),i.indexOf(p.children,u)===-1&&p.addChild(u),u.position.x=t.position.x,u.position.y=t.position.y,u.rotation=t.angle-u.initialAngle}};var n=function(e,t){var n=t.render,o=n.sprite.texture,r=s(e,o),i=new PIXI.Sprite(r);return i.anchor.x=t.render.sprite.xOffset,i.anchor.y=t.render.sprite.yOffset,i},a=function(e,t){var n,o=t.render,r=e.options,a=new PIXI.Graphics,s=i.colorToNumber(o.fillStyle),l=i.colorToNumber(o.strokeStyle),c=i.colorToNumber(o.strokeStyle),u=i.colorToNumber("#bbb"),p=i.colorToNumber("#CD5C5C");a.clear();for(var f=t.parts.length>1?1:0;f<t.parts.length;f++){n=t.parts[f],r.wireframes?(a.beginFill(0,0),a.lineStyle(1,u,1)):(a.beginFill(s,1),a.lineStyle(o.lineWidth,l,1)),a.moveTo(n.vertices[0].x-t.position.x,n.vertices[0].y-t.position.y);for(var d=1;d<n.vertices.length;d++)a.lineTo(n.vertices[d].x-t.position.x,n.vertices[d].y-t.position.y);a.lineTo(n.vertices[0].x-t.position.x,n.vertices[0].y-t.position.y),a.endFill(),(r.showAngleIndicator||r.showAxes)&&(a.beginFill(0,0),r.wireframes?a.lineStyle(1,p,1):a.lineStyle(1,c),a.moveTo(n.position.x-t.position.x,n.position.y-t.position.y),a.lineTo((n.vertices[0].x+n.vertices[n.vertices.length-1].x)/2-t.position.x,(n.vertices[0].y+n.vertices[n.vertices.length-1].y)/2-t.position.y),a.endFill())}return a},s=function(e,t){var n=e.textures[t];return n||(n=e.textures[t]=PIXI.Texture.fromImage(t)),n}}()},,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t,n,o){switch(void 0===e?"undefined":l(e)){case"object":return"function"==typeof e[o]?e[o].apply(e,r(n)):e[o];case"function":return e(t);default:return e}}function a(e){var t=e.timestamp,n=e.duration;return function(e,o,r){var i=["action"];return t&&i.push("@ "+o),i.push(String(e.type)),n&&i.push("(in "+r.toFixed(2)+" ms)"),i.join(" ")}}function s(e,t){var n=t.logger,o=t.actionTransformer,r=t.titleFormatter,s=void 0===r?a(t):r,l=t.collapsed,u=t.colors,f=t.level,d=t.diff;e.forEach(function(t,r){var a=t.started,y=t.startedTime,v=t.action,h=t.prevState,m=t.error,g=t.took,b=t.nextState,x=e[r+1];x&&(b=x.prevState,g=x.started-a);var w=o(v),_="function"==typeof l?l(function(){return b},v,t):l,S=(0,c.formatTime)(y),P=u.title?"color: "+u.title(w)+";":null,T=s(w,S,g);try{_?u.title?n.groupCollapsed("%c "+T,P):n.groupCollapsed(T):u.title?n.group("%c "+T,P):n.group(T)}catch(e){n.log(T)}var k=i(f,w,[h],"prevState"),A=i(f,w,[w],"action"),C=i(f,w,[m,h],"error"),O=i(f,w,[b],"nextState");k&&(u.prevState?n[k]("%c prev state","color: "+u.prevState(h)+"; font-weight: bold",h):n[k]("prev state",h)),A&&(u.action?n[A]("%c action","color: "+u.action(w)+"; font-weight: bold",w):n[A]("action",w)),m&&C&&(u.error?n[C]("%c error","color: "+u.error(m,h)+"; font-weight: bold",m):n[C]("error",m)),O&&(u.nextState?n[O]("%c next state","color: "+u.nextState(b)+"; font-weight: bold",b):n[O]("next state",b)),d&&(0,p.default)(h,b,n,_);try{n.groupEnd()}catch(e){n.log("—— log end ——")}})}Object.defineProperty(t,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.printBuffer=s;var c=n(116),u=n(257),p=o(u)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){return"color: "+u[e].color+"; font-weight: bold"}function a(e){var t=e.kind,n=e.path,o=e.lhs,r=e.rhs,i=e.index,a=e.item;switch(t){case"E":return[n.join("."),o,"→",r];case"N":return[n.join("."),r];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+i+"]",a];default:return[]}}function s(e,t,n,o){var s=(0,c.default)(e,t);try{o?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}s?s.forEach(function(e){var t=e.kind,o=a(e);n.log.apply(n,["%c "+u[t].text,i(t)].concat(r(o)))}):n.log("—— no diff ——");try{n.groupEnd()}catch(e){n.log("—— diff end —— ")}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var l=n(122),c=o(l),u={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}};e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i({},c.default,e),n=t.logger,o=t.transformer,r=t.stateTransformer,l=t.errorTransformer,u=t.predicate,p=t.logErrors,f=t.diffPredicate;if(void 0===n)return function(){return function(e){return function(t){return e(t)}}};if(o&&console.error("Option 'transformer' is deprecated, use 'stateTransformer' instead!"),e.getState&&e.dispatch)return console.error("redux-logger not installed. Make sure to pass logger instance as middleware:\n\nimport createLogger from 'redux-logger';\n\nconst logger = createLogger();\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n);"),function(){return function(e){return function(t){return e(t)}}};var d=[];return function(e){var n=e.getState;return function(e){return function(o){if("function"==typeof u&&!u(n,o))return e(o);var c={};d.push(c),c.started=s.timer.now(),c.startedTime=new Date,c.prevState=r(n()),c.action=o;var y=void 0;if(p)try{y=e(o)}catch(e){c.error=l(e)}else y=e(o);c.took=s.timer.now()-c.started,c.nextState=r(n());var v=t.diff&&"function"==typeof f?f(n,o):t.diff;if((0,a.printBuffer)(d,i({},t,{diff:v})),d.length=0,c.error)throw c.error;return y}}}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=n(255),s=n(116),l=n(256),c=o(l);t.default=r,e.exports=t.default},,,,,,,,function(e,t,n){e.exports=n(120)}],[266]);